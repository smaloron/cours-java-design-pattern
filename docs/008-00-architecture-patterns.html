<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-28T16:55:43.81804"><title>Hors-S&eacute;rie : Les Grands Patterns d'Architecture | Java-design-pattern</title><script type="application/json" id="virtual-toc-data">[{"id":"objectifs-p-dagogiques","level":0,"title":"Objectifs Pédagogiques","anchor":"#objectifs-p-dagogiques"},{"id":"introduction-du-plan-de-la-maison-au-plan-de-la-ville","level":0,"title":"Introduction : Du Plan de la Maison au Plan de la Ville","anchor":"#introduction-du-plan-de-la-maison-au-plan-de-la-ville"},{"id":"l-essentiel-monolithe-vs-microservices","level":0,"title":"L\u0027essentiel : Monolithe vs. Microservices","anchor":"#l-essentiel-monolithe-vs-microservices"},{"id":"pour-aller-plus-loin-patterns-de-l-cosyst-me-microservices","level":0,"title":"Pour aller plus loin : Patterns de l\u0027Écosystème Microservices","anchor":"#pour-aller-plus-loin-patterns-de-l-cosyst-me-microservices"},{"id":"une-alternative-l-architecture-orient-e-v-nements-eda","level":0,"title":"Une Alternative : L\u0027Architecture Orientée Événements (EDA)","anchor":"#une-alternative-l-architecture-orient-e-v-nements-eda"},{"id":"auto-valuation","level":0,"title":"Auto-évaluation","anchor":"#auto-valuation"},{"id":"conclusion","level":0,"title":"Conclusion","anchor":"#conclusion"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Hors-S&eacute;rie : Les Grands Patterns d'Architecture | Java-design-pattern"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Java-design-pattern Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/008-00-architecture-patterns.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Hors-S&eacute;rie : Les Grands Patterns d'Architecture | Java-design-pattern"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/008-00-architecture-patterns.html#webpage",
    "url": "writerside-documentation/008-00-architecture-patterns.html",
    "name": "Hors-S&eacute;rie : Les Grands Patterns d'Architecture | Java-design-pattern",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Java-design-pattern Help"
}</script><!-- End Schema.org --></head><body data-id="008-00-architecture-patterns" data-main-title="Hors-Série : Les Grands Patterns d'Architecture" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Java-design-pattern  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="008-00-architecture-patterns" id="008-00-architecture-patterns.md">Hors-Série : Les Grands Patterns d'Architecture</h1><section class="chapter"><h2 id="objectifs-p-dagogiques" data-toc="objectifs-p-dagogiques">Objectifs P&eacute;dagogiques</h2><p id="ej6blc_10">&Agrave; la fin de ce module, vous serez en mesure de :</p><ul class="list _bullet" id="ej6blc_11"><li class="list__item" id="ej6blc_12"><p id="ej6blc_18"><span class="control" id="ej6blc_19">Diff&eacute;rencier</span> un pattern de conception (Design Pattern) d'un pattern d'architecture (Architectural Pattern).</p></li><li class="list__item" id="ej6blc_13"><p id="ej6blc_20"><span class="control" id="ej6blc_21">D&eacute;crire</span> l'architecture <span class="control" id="ej6blc_22">Monolithique</span> avec ses avantages et ses inconv&eacute;nients.</p></li><li class="list__item" id="ej6blc_14"><p id="ej6blc_23"><span class="control" id="ej6blc_24">Expliquer</span> le concept de l'architecture <span class="control" id="ej6blc_25">Microservices</span> et ses principaux d&eacute;fis.</p></li><li class="list__item" id="ej6blc_15"><p id="ej6blc_26"><span class="control" id="ej6blc_27">Identifier</span> des patterns cl&eacute;s de l'&eacute;cosyst&egrave;me microservices, comme <span class="control" id="ej6blc_28">API Gateway</span> et <span class="control" id="ej6blc_29">Service Discovery</span>.</p></li><li class="list__item" id="ej6blc_16"><p id="ej6blc_30"><span class="control" id="ej6blc_31">Comprendre</span> les principes de l' <span class="control" id="ej6blc_32">Architecture Orient&eacute;e &Eacute;v&eacute;nements (EDA)</span>.</p></li><li class="list__item" id="ej6blc_17"><p id="ej6blc_33"><span class="control" id="ej6blc_34">Prendre des d&eacute;cisions &eacute;clair&eacute;es</span> sur le choix d'une architecture en fonction du contexte d'un projet.</p></li></ul></section><section class="chapter"><h2 id="introduction-du-plan-de-la-maison-au-plan-de-la-ville" data-toc="introduction-du-plan-de-la-maison-au-plan-de-la-ville">Introduction : Du Plan de la Maison au Plan de la Ville</h2><p id="ej6blc_35">Jusqu'&agrave; pr&eacute;sent, nous avons travaill&eacute; sur le plan de notre maison. Nous avons appris &agrave; concevoir les pi&egrave;ces (patterns de cr&eacute;ation), &agrave; les assembler (patterns de structure) et &agrave; d&eacute;finir comment on y vit (patterns comportementaux).</p><p id="ej6blc_36">Les patterns d'architecture, c'est le <span class="control" id="ej6blc_38">plan d'urbanisme</span>. On ne r&eacute;fl&eacute;chit plus &agrave; une seule maison, mais &agrave; la mani&egrave;re dont des dizaines ou des centaines de maisons (services, applications) vont interagir pour former une ville fonctionnelle. On s'int&eacute;resse aux routes (r&eacute;seaux), &agrave; la distribution d'&eacute;lectricit&eacute; (communication), et aux services publics (infrastructures partag&eacute;es).</p><p id="ej6blc_37">En tant que Concepteur D&eacute;veloppeur d'Application, comprendre ces patterns est ce qui vous permettra de participer aux d&eacute;cisions techniques les plus impactantes d'un projet.</p></section><section class="chapter"><h2 id="l-essentiel-monolithe-vs-microservices" data-toc="l-essentiel-monolithe-vs-microservices">L'essentiel : Monolithe vs. Microservices</h2><p id="ej6blc_39">Ce sont les deux grands styles architecturaux que vous rencontrerez le plus souvent.</p><section class="chapter"><h3 id="l-architecture-monolithique" data-toc="l-architecture-monolithique">L'Architecture Monolithique</h3><p id="ej6blc_42">C'est l'approche traditionnelle et le point de d&eacute;part de la plupart des applications, y compris notre projet fil rouge de biblioth&egrave;que.</p><ul class="list _bullet" id="ej6blc_43"><li class="list__item" id="ej6blc_45"><p id="ej6blc_47"><span class="control" id="ej6blc_48">D&eacute;finition :</span> L'application enti&egrave;re est construite et d&eacute;ploy&eacute;e comme une <span class="control" id="ej6blc_49">unit&eacute; unique</span>. Le front-end, le back-end, la logique m&eacute;tier, la couche d'acc&egrave;s aux donn&eacute;es... tout est dans le m&ecirc;me processus, la m&ecirc;me base de code, et souvent le m&ecirc;me fichier d&eacute;ployable (un <code class="code" id="ej6blc_50">.jar</code> ou un <code class="code" id="ej6blc_51">.war</code>).</p></li><li class="list__item" id="ej6blc_46"><p id="ej6blc_52"><span class="control" id="ej6blc_53">Analogie :</span> Un grand b&acirc;timent de bureaux o&ugrave; tous les d&eacute;partements (Ventes, Marketing, RH) travaillent sous le m&ecirc;me toit.</p></li></ul><section class="chapter"><h4 id="structure" data-toc="structure">Structure</h4><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="494px" preserveAspectRatio="none" style="width:902px;height:494px;background:#FFFFFF;" version="1.1" viewBox="0 0 902 494" width="902px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="188" x="350.25" y="23.5352">Architecture Monolithique</text><!--cluster Application 'Biblioth?que' (un seul .jar)--><g id="cluster_Application 'Biblioth&#232;que' (un seul .jar)"><polygon fill="none" points="53.5,53.4883,63.5,43.4883,885.5,43.4883,885.5,405.9483,875.5,415.9483,53.5,415.9483,53.5,53.4883" style="stroke:#696969;stroke-width:1.0;"/><line style="stroke:#696969;stroke-width:1.0;" x1="875.5" x2="885.5" y1="53.4883" y2="43.4883"/><line style="stroke:#696969;stroke-width:1.0;" x1="53.5" x2="875.5" y1="53.4883" y2="53.4883"/><line style="stroke:#696969;stroke-width:1.0;" x1="875.5" x2="875.5" y1="53.4883" y2="415.9483"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="279" x="326" y="70.0234">Application 'Biblioth&#232;que' (un seul .jar)</text></g><!--cluster Business--><g id="cluster_Business"><rect fill="none" height="219.97" rx="3.5" ry="3.5" style="stroke:#696969;stroke-width:1.0;" width="402" x="85.5" y="163.9783"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="103" x="235" y="179.5134">Couche M&#233;tier</text></g><!--entity UI--><g id="elem_UI"><rect fill="#F1F1F1" height="36.4883" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="228" x="218.5" y="83.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208" x="228.5" y="107.0234">Interface Utilisateur (API REST)</text></g><!--entity DAL--><g id="elem_DAL"><rect fill="#F1F1F1" height="36.4883" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="358" x="511.5" y="318.4583"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="338" x="521.5" y="341.9934">Couche d'Acc&#232;s aux Donn&#233;es (DAO/Repositories)</text></g><!--entity Service Livres--><g id="elem_Service Livres"><rect fill="#F1F1F1" height="46.4883" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="109" y="206.9783"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="220" y="211.9783"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="218" y="213.9783"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="218" y="217.9783"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="124" y="240.5134">Service Livres</text></g><!--entity Service Utilisateurs--><g id="elem_Service Utilisateurs"><rect fill="#F1F1F1" height="46.4883" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="275" y="206.9783"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="424" y="211.9783"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="422" y="213.9783"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="422" y="217.9783"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="290" y="240.5134">Service Utilisateurs</text></g><!--entity Service Emprunts--><g id="elem_Service Emprunts"><rect fill="#F1F1F1" height="46.4883" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="109.5" y="313.4583"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="247.5" y="318.4583"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="245.5" y="320.4583"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="245.5" y="324.4583"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="124.5" y="346.9934">Service Emprunts</text></g><!--entity User--><g id="elem_User"><ellipse cx="21.5" cy="71.9883" fill="#454645" rx="8" ry="8" style="stroke:#454645;stroke-width:0.5;"/><path d="M21.5,79.9883 L21.5,106.9883 M8.5,87.9883 L34.5,87.9883 M21.5,106.9883 L8.5,121.9883 M21.5,106.9883 L34.5,121.9883 " fill="none" style="stroke:#454645;stroke-width:0.5;"/><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="6" y="137.0234">User</text></g><!--entity DB--><g id="elem_DB"><path d="M596,441.9483 C596,431.9483 690.5,431.9483 690.5,431.9483 C690.5,431.9483 785,431.9483 785,441.9483 L785,467.4366 C785,477.4366 690.5,477.4366 690.5,477.4366 C690.5,477.4366 596,477.4366 596,467.4366 L596,441.9483 " fill="#00FFFF" style="stroke:#454645;stroke-width:0.5;"/><path d="M596,441.9483 C596,451.9483 690.5,451.9483 690.5,451.9483 C690.5,451.9483 785,451.9483 785,441.9483 " fill="none" style="stroke:#454645;stroke-width:0.5;"/><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="606" y="469.4834">Base de Donn&#233;es Unique</text></g><!--link UI to Business--><g id="link_UI_Business"><path d="M418.81,120.4283 C434.04,126.9283 448.51,135.8183 459.5,147.9783 C462.52,151.3183 465.1019,155.0406 467.3074,159.0037 C467.8588,159.9945 468.3867,161.0003 468.892,162.019 C469.1447,162.5283 469.3917,163.0409 469.6332,163.5563 C469.6936,163.6852 467.2378,158.3672 467.2974,158.4964 " fill="none" id="UI-to-Business" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="469.8133,163.9435,469.6709,154.0956,467.7168,159.4043,462.4081,157.4501,469.8133,163.9435" style="stroke:#454645;stroke-width:1.0;"/></g><!--link Business to DAL--><g id="link_Business_DAL"><path d="M487.5261,235.1895 C488.0197,235.4339 488.5339,235.6886 489.068,235.9531 C490.1363,236.4822 491.2846,237.0509 492.5081,237.6568 C494.9549,238.8686 497.7022,240.2291 500.7111,241.7192 C512.7466,247.6795 528.9669,255.712 546.8813,264.5833 C582.71,282.3258 619.9381,300.7608 649.3931,315.3458 " fill="none" id="Business-to-DAL" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="654.77,318.0083,648.4796,310.43,650.2892,315.7896,644.9296,317.5992,654.77,318.0083" style="stroke:#454645;stroke-width:1.0;"/></g><!--link DAL to DB--><g id="link_DAL_DB"><path d="M690.5,355.3183 C690.5,375.7283 690.5,403.3783 690.5,425.5383 " fill="none" id="DAL-to-DB" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="690.5,431.5383,694.5,422.5383,690.5,426.5383,686.5,422.5383,690.5,431.5383" style="stroke:#454645;stroke-width:1.0;"/></g><!--link User to UI--><g id="link_User_UI"><path d="M37.29,101.7283 C97.55,101.7283 151.8,101.7283 212.05,101.7283 " fill="none" id="User-to-UI" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="218.05,101.7283,209.05,97.7283,213.05,101.7283,209.05,105.7283,218.05,101.7283" style="stroke:#454645;stroke-width:1.0;"/></g><!--SRC=[RL51Ri903BplAznSe0VQ7rHA2eT8LAsWUS2oSOchu4rtlQXInN_W7VbOdI0X3jd3ohB7CsFxGHey81nf5ooB4P8M8Sk3QqZGIGe8RvvzIzBGJyBC6El41wWY1cFOrmEwwrfoLiWpp0hQjUIbwSyAdy4yCKHCBJnzs_2OmPy9IcjvFyYKB1Y-h4EeX5gALZ05cESV9MnMsq-5smXLUT_owfDhr5D_4S8m0eeKYJ56vNR-q7b65iYs68wap6iw1epPLEbET1gmEdGXiMZnDE6XdkNEzUS8Dlt2qZFt5ummN-RlpnliV2JT4s6yJh7CryQ0lgg4nUBbPdhCtIOOAYFoP4njnUviLBrY-7NHDusAnrkCl8Knsd7jr7Yu2sXSbVy0]--></g></svg></div><div class="tabs" id="ej6blc_55" data-anchors="[ej6blc_56,ej6blc_57]"><div class="tabs__content" data-gtm="tab" id="ej6blc_56" data-title="Avantages ✅"><ul class="list _bullet" id="ej6blc_58"><li class="list__item" id="ej6blc_59"><p><b id="ej6blc_63">Simplicit&eacute; de d&eacute;veloppement :</b> Tout est dans le m&ecirc;me projet. Pas de complexit&eacute; r&eacute;seau &agrave; g&eacute;rer pour la communication interne.</p></li><li class="list__item" id="ej6blc_60"><p><b id="ej6blc_64">Simplicit&eacute; de d&eacute;ploiement :</b> On d&eacute;ploie un seul fichier.</p></li><li class="list__item" id="ej6blc_61"><p><b id="ej6blc_65">Performance :</b> Les appels entre services sont de simples appels de m&eacute;thode en m&eacute;moire, ce qui est extr&ecirc;mement rapide.</p></li><li class="list__item" id="ej6blc_62"><p><b id="ej6blc_66">Facilit&eacute; de test :</b> Les tests de bout en bout (end-to-end) sont plus simples &agrave; mettre en place.</p></li></ul></div><div class="tabs__content" data-gtm="tab" id="ej6blc_57" data-title="Inconv&eacute;nients ❌"><ul class="list _bullet" id="ej6blc_67"><li class="list__item" id="ej6blc_68"><p><b id="ej6blc_72">Scalabilit&eacute; difficile :</b> Si seule la partie &quot;Recherche de livre&quot; est surcharg&eacute;e, vous devez scaler toute l'application, ce qui est co&ucirc;teux et inefficace.</p></li><li class="list__item" id="ej6blc_69"><p><b id="ej6blc_73">Fragilit&eacute; (couplage fort) :</b> Un bug dans un module peut faire tomber toute l'application. Une modification peut avoir des effets de bord impr&eacute;visibles.</p></li><li class="list__item" id="ej6blc_70"><p><b id="ej6blc_74">Barri&egrave;re technologique :</b> L'ensemble de l'application est &quot;coinc&eacute;&quot; dans une seule pile technologique. Mettre &agrave; jour une librairie ou changer de version de langage est une op&eacute;ration lourde et risqu&eacute;e.</p></li><li class="list__item" id="ej6blc_71"><p><b id="ej6blc_75">Complexit&eacute; croissante :</b> Avec le temps, le monolithe peut devenir une &quot;Big Ball of Mud&quot; (grosse boule de boue), difficile &agrave; comprendre et &agrave; maintenir.</p></li></ul></div></div></section></section><section class="chapter"><h3 id="l-architecture-microservices" data-toc="l-architecture-microservices">L'Architecture Microservices</h3><p id="ej6blc_76">C'est une approche qui vise &agrave; r&eacute;soudre les probl&egrave;mes du monolithe en d&eacute;composant l'application en un ensemble de petits services ind&eacute;pendants.</p><ul class="list _bullet" id="ej6blc_77"><li class="list__item" id="ej6blc_79"><p id="ej6blc_81"><span class="control" id="ej6blc_82">D&eacute;finition :</span> L'application est une suite de <span class="control" id="ej6blc_83">petits services autonomes</span>, chacun s'ex&eacute;cutant dans son propre processus et communiquant via des m&eacute;canismes l&eacute;gers, souvent une API HTTP/REST. Chaque service est organis&eacute; autour d'une capacit&eacute; m&eacute;tier.</p></li><li class="list__item" id="ej6blc_80"><p id="ej6blc_84"><span class="control" id="ej6blc_85">Analogie :</span> Un campus d'affaires o&ugrave; chaque d&eacute;partement a son propre b&acirc;timent, avec ses propres r&egrave;gles et sa propre s&eacute;curit&eacute;. Ils communiquent par t&eacute;l&eacute;phone ou par courrier (r&eacute;seau).</p></li></ul><section class="chapter"><h4 id="structure_1" data-toc="structure_1">Structure</h4><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="357px" preserveAspectRatio="none" style="width:1306px;height:357px;background:#FFFFFF;" version="1.1" viewBox="0 0 1306 357" width="1306px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="190" x="551" y="23.5352">Architecture Microservices</text><!--cluster Services D?ploy?s Ind?pendamment--><g id="cluster_Services D&#233;ploy&#233;s Ind&#233;pendamment"><path d="M346.5,43.4883 L604.5,43.4883 A5.25,5.25 0 0 1 608,46.9883 L615,65.9766 L1295.5,65.9766 A3.5,3.5 0 0 1 1299,69.4766 L1299,208.4783 A3.5,3.5 0 0 1 1295.5,211.9783 L346.5,211.9783 A3.5,3.5 0 0 1 343,208.4783 L343,46.9883 A3.5,3.5 0 0 1 346.5,43.4883 " fill="none" style="stroke:#696969;stroke-width:1.0;"/><line style="stroke:#696969;stroke-width:1.0;" x1="343" x2="615" y1="65.9766" y2="65.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="259" x="347" y="59.0234">Services D&#233;ploy&#233;s Ind&#233;pendamment</text></g><!--cluster Service Catalogue (catalogue.jar)--><g id="cluster_Service Catalogue (catalogue.jar)"><polygon fill="none" points="367,96.4883,377,86.4883,676,86.4883,676,177.9783,666,187.9783,367,187.9783,367,96.4883" style="stroke:#696969;stroke-width:1.0;"/><line style="stroke:#696969;stroke-width:1.0;" x1="666" x2="676" y1="96.4883" y2="86.4883"/><line style="stroke:#696969;stroke-width:1.0;" x1="367" x2="666" y1="96.4883" y2="96.4883"/><line style="stroke:#696969;stroke-width:1.0;" x1="666" x2="666" y1="96.4883" y2="187.9783"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="233" x="401" y="113.0234">Service Catalogue (catalogue.jar)</text></g><!--cluster Service Utilisateurs (user.jar)--><g id="cluster_Service Utilisateurs (user.jar)"><polygon fill="none" points="700,96.4883,710,86.4883,983,86.4883,983,177.9783,973,187.9783,700,187.9783,700,96.4883" style="stroke:#696969;stroke-width:1.0;"/><line style="stroke:#696969;stroke-width:1.0;" x1="973" x2="983" y1="96.4883" y2="86.4883"/><line style="stroke:#696969;stroke-width:1.0;" x1="700" x2="973" y1="96.4883" y2="96.4883"/><line style="stroke:#696969;stroke-width:1.0;" x1="973" x2="973" y1="96.4883" y2="187.9783"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="207" x="734" y="113.0234">Service Utilisateurs (user.jar)</text></g><!--cluster Service Emprunts (loan.jar)--><g id="cluster_Service Emprunts (loan.jar)"><polygon fill="none" points="1007,96.4883,1017,86.4883,1275,86.4883,1275,177.9783,1265,187.9783,1007,187.9783,1007,96.4883" style="stroke:#696969;stroke-width:1.0;"/><line style="stroke:#696969;stroke-width:1.0;" x1="1265" x2="1275" y1="96.4883" y2="86.4883"/><line style="stroke:#696969;stroke-width:1.0;" x1="1007" x2="1265" y1="96.4883" y2="96.4883"/><line style="stroke:#696969;stroke-width:1.0;" x1="1265" x2="1265" y1="96.4883" y2="187.9783"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="192" x="1041" y="113.0234">Service Emprunts (loan.jar)</text></g><!--entity DB_Book--><g id="elem_DB_Book"><path d="M480.5,136.4883 C480.5,126.4883 521,126.4883 521,126.4883 C521,126.4883 561.5,126.4883 561.5,136.4883 L561.5,161.9766 C561.5,171.9766 521,171.9766 521,171.9766 C521,171.9766 480.5,171.9766 480.5,161.9766 L480.5,136.4883 " fill="#00FFFF" style="stroke:#454645;stroke-width:0.5;"/><path d="M480.5,136.4883 C480.5,146.4883 521,146.4883 521,146.4883 C521,146.4883 561.5,146.4883 561.5,136.4883 " fill="none" style="stroke:#454645;stroke-width:0.5;"/><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="490.5" y="164.0234">DB Livres</text></g><!--entity DB_User--><g id="elem_DB_User"><path d="M801,136.4883 C801,126.4883 841,126.4883 841,126.4883 C841,126.4883 881,126.4883 881,136.4883 L881,161.9766 C881,171.9766 841,171.9766 841,171.9766 C841,171.9766 801,171.9766 801,161.9766 L801,136.4883 " fill="#00FFFF" style="stroke:#454645;stroke-width:0.5;"/><path d="M801,136.4883 C801,146.4883 841,146.4883 841,146.4883 C841,146.4883 881,146.4883 881,136.4883 " fill="none" style="stroke:#454645;stroke-width:0.5;"/><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="811" y="164.0234">DB Users</text></g><!--entity DB_Loan--><g id="elem_DB_Loan"><path d="M1087,136.4883 C1087,126.4883 1141,126.4883 1141,126.4883 C1141,126.4883 1195,126.4883 1195,136.4883 L1195,161.9766 C1195,171.9766 1141,171.9766 1141,171.9766 C1141,171.9766 1087,171.9766 1087,161.9766 L1087,136.4883 " fill="#00FFFF" style="stroke:#454645;stroke-width:0.5;"/><path d="M1087,136.4883 C1087,146.4883 1141,146.4883 1141,146.4883 C1141,146.4883 1195,146.4883 1195,136.4883 " fill="none" style="stroke:#454645;stroke-width:0.5;"/><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1097" y="164.0234">DB Emprunts</text></g><!--entity User--><g id="elem_User"><ellipse cx="87" cy="119.4883" fill="#454645" rx="8" ry="8" style="stroke:#454645;stroke-width:0.5;"/><path d="M87,127.4883 L87,154.4883 M74,135.4883 L100,135.4883 M87,154.4883 L74,169.4883 M87,154.4883 L100,169.4883 " fill="none" style="stroke:#454645;stroke-width:0.5;"/><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="71.5" y="184.5234">User</text></g><!--entity Service Catalogue--><g id="elem_Service Catalogue"><ellipse cx="67" cy="283.4783" fill="#454645" rx="8" ry="8" style="stroke:#454645;stroke-width:0.5;"/><path d="M67,291.4783 L67,318.4783 M54,299.4783 L80,299.4783 M67,318.4783 L54,333.4783 M67,318.4783 L80,333.4783 " fill="none" style="stroke:#454645;stroke-width:0.5;"/><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="6" y="348.5134">Service Catalogue</text></g><!--entity Service Utilisateurs--><g id="elem_Service Utilisateurs"><ellipse cx="227" cy="283.4783" fill="#454645" rx="8" ry="8" style="stroke:#454645;stroke-width:0.5;"/><path d="M227,291.4783 L227,318.4783 M214,299.4783 L240,299.4783 M227,318.4783 L214,333.4783 M227,318.4783 L240,333.4783 " fill="none" style="stroke:#454645;stroke-width:0.5;"/><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="162.5" y="348.5134">Service Utilisateurs</text></g><!--entity Service Emprunts--><g id="elem_Service Emprunts"><ellipse cx="268" cy="119.4883" fill="#454645" rx="8" ry="8" style="stroke:#454645;stroke-width:0.5;"/><path d="M268,127.4883 L268,154.4883 M255,135.4883 L281,135.4883 M268,154.4883 L255,169.4883 M268,154.4883 L281,169.4883 " fill="none" style="stroke:#454645;stroke-width:0.5;"/><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="209" y="184.5234">Service Emprunts</text></g><g id="elem_GMN17"><path d="M326.5,304.0683 L326.5,322.3788 A3.5,3.5 0 0 0 330,325.8788 L630,325.8788 A3.5,3.5 0 0 0 633.5,322.3788 L633.5,310.5683 L623.5,300.5683 L468.33,300.5683 L317.17,187.8083 L460.33,300.5683 L330,300.5683 A3.5,3.5 0 0 0 326.5,304.0683 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M623.5,300.5683 L623.5,308.8183 A1.75,1.75 0 0 0 625.25,310.5683 L633.5,310.5683 L623.5,300.5683 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286" x="332.5" y="318.1366">Chaque service a sa propre base de donn&#233;es !</text></g><!--link User to Service Catalogue--><g id="link_User_Service Catalogue"><path d="M82.36,187.8083 C79.14,213.8783 75.6049,242.5335 72.3849,268.6235 " fill="none" id="User-to-Service Catalogue" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="71.65,274.5783,76.7223,266.136,72.2624,269.6159,68.7825,265.1561,71.65,274.5783" style="stroke:#454645;stroke-width:1.0;"/></g><!--link User to Service Utilisateurs--><g id="link_User_Service Utilisateurs"><path d="M98.76,187.9483 C105.8,206.4783 116.11,228.3383 130,244.9783 C139.12,255.9183 145.6326,262.2782 157.2826,270.9782 " fill="none" id="User-to-Service Utilisateurs" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="162.09,274.5683,157.2723,265.9782,158.0838,271.5765,152.4855,272.3881,162.09,274.5683" style="stroke:#454645;stroke-width:1.0;"/></g><!--link Service Emprunts to Service Catalogue--><g id="link_Service Emprunts_Service Catalogue"><path d="M221.38,187.8083 C189.03,213.8783 150.7621,244.7238 118.3821,270.8138 " fill="none" id="Service Emprunts-to-Service Catalogue" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="113.71,274.5783,123.2278,272.0462,117.6034,271.4412,118.2085,265.8168,113.71,274.5783" style="stroke:#454645;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="168.5" y="241.5466">Appel API</text></g><!--link Service Emprunts to Service Utilisateurs--><g id="link_Service Emprunts_Service Utilisateurs"><path d="M258.49,187.8083 C251.89,213.8783 244.6015,242.6715 238.0015,268.7615 " fill="none" id="Service Emprunts-to-Service Utilisateurs" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="236.53,274.5783,242.615,266.8341,237.7562,269.731,234.8594,264.8722,236.53,274.5783" style="stroke:#454645;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="248.5" y="241.5466">Appel API</text></g><!--SRC=[XPB1JiCm38RlUGglft7O7c07f7RZC6b8I6XdvARM6jOc8N4h8RG7wdFqnN2d5TWeufR4lp__jZFZacg2rkG1BIisN14aQT2bOTBS1897euEB55gZAIPAeMONO2ylIddKHpn8nlCb3fk-yvLxxxi8Mrl8XMo1TKsM4_XGrXNVObWZO-KE3S5SZyVbAuQxGLh8IuvHv9iCTgODKXnG2cGlcND7TRg1xTbK9Y9J4oBC6x4tZHgCVv7ENToI7ceV6ij2gHpQQSge6K4xKGhefDI0XCNYVgBDP2BuqxOCzvU9v2yMh23rdYf8dxR_fbrLkSgKtfaWTyokNi6wn3TPnsNRW10HV71Uli6vTHbJuQpjEzdqx1C0]--></g></svg></div><div class="tabs" id="ej6blc_87" data-anchors="[ej6blc_88,ej6blc_89]"><div class="tabs__content" data-gtm="tab" id="ej6blc_88" data-title="Avantages ✅"><ul class="list _bullet" id="ej6blc_90"><li class="list__item" id="ej6blc_91"><p><b id="ej6blc_96">Scalabilit&eacute; cibl&eacute;e :</b> On peut scaler ind&eacute;pendamment chaque service en fonction de sa charge.</p></li><li class="list__item" id="ej6blc_92"><p><b id="ej6blc_97">R&eacute;silience :</b> La panne d'un service non critique n'entra&icirc;ne pas forc&eacute;ment la panne de tout le syst&egrave;me.</p></li><li class="list__item" id="ej6blc_93"><p><b id="ej6blc_98">Flexibilit&eacute; technologique :</b> Chaque service peut &ecirc;tre &eacute;crit avec la technologie la plus adapt&eacute;e. Un service en Java, un autre en Python, un troisi&egrave;me en Go.</p></li><li class="list__item" id="ej6blc_94"><p><b id="ej6blc_99">D&eacute;ploiement ind&eacute;pendant et rapide :</b> On peut mettre &agrave; jour un seul service sans red&eacute;ployer tout le reste.</p></li><li class="list__item" id="ej6blc_95"><p><b id="ej6blc_100">Autonomie des &eacute;quipes :</b> Chaque &eacute;quipe peut &ecirc;tre propri&eacute;taire d'un ou plusieurs services, ce qui favorise la v&eacute;locit&eacute;.</p></li></ul></div><div class="tabs__content" data-gtm="tab" id="ej6blc_89" data-title="Inconv&eacute;nients ❌"><ul class="list _bullet" id="ej6blc_101"><li class="list__item" id="ej6blc_102"><p><b id="ej6blc_106">Complexit&eacute; op&eacute;rationnelle :</b> G&eacute;rer le d&eacute;ploiement, la surveillance, et le logging de dizaines de services est un d&eacute;fi majeur (n&eacute;cessite des outils comme Docker, Kubernetes, etc.).</p></li><li class="list__item" id="ej6blc_103"><p><b id="ej6blc_107">Complexit&eacute; de la communication :</b> Les appels r&eacute;seau sont plus lents et moins fiables que les appels en m&eacute;moire. Il faut g&eacute;rer les pannes r&eacute;seau, la latence...</p></li><li class="list__item" id="ej6blc_104"><p><b id="ej6blc_108">Gestion des donn&eacute;es distribu&eacute;es :</b> C'est le plus grand d&eacute;fi. Comment assurer la coh&eacute;rence des donn&eacute;es ? Comment faire une transaction qui touche plusieurs services ?</p></li><li class="list__item" id="ej6blc_105"><p><b id="ej6blc_109">Tests distribu&eacute;s :</b> Tester une fonctionnalit&eacute; qui traverse plusieurs services est tr&egrave;s complexe.</p></li></ul></div></div></section></section></section><section class="chapter"><h2 id="pour-aller-plus-loin-patterns-de-l-cosyst-me-microservices" data-toc="pour-aller-plus-loin-patterns-de-l-cosyst-me-microservices">Pour aller plus loin : Patterns de l'&Eacute;cosyst&egrave;me Microservices</h2><p id="ej6blc_110">Adopter une architecture microservices vous oblige &agrave; r&eacute;soudre de nouveaux probl&egrave;mes. Voici deux patterns incontournables.</p><section class="chapter"><h3 id="le-pattern-api-gateway" data-toc="le-pattern-api-gateway">Le Pattern API Gateway</h3><ul class="list _bullet" id="ej6blc_113"><li class="list__item" id="ej6blc_115"><p id="ej6blc_118"><span class="control" id="ej6blc_119">Probl&egrave;me :</span> Comment les clients (ex: une application mobile) communiquent-ils avec tous ces services ? Doivent-ils conna&icirc;tre l'adresse de chaque service ? Que faire pour l'authentification ?</p></li><li class="list__item" id="ej6blc_116"><p id="ej6blc_120"><span class="control" id="ej6blc_121">Solution :</span> Mettre en place un point d'entr&eacute;e unique, une <span class="control" id="ej6blc_122">Facade</span> pour tout le syst&egrave;me.</p></li><li class="list__item" id="ej6blc_117"><p id="ej6blc_123"><span class="control" id="ej6blc_125">R&ocirc;les :</span></p><ol class="list _decimal" id="ej6blc_124" type="1"><li class="list__item" id="ej6blc_126"><p id="ej6blc_129"><span class="control" id="ej6blc_130">Reverse Proxy / Routage :</span> Le client appelle <code class="code" id="ej6blc_131">https://api.macompagnie.com/books/123</code> et la gateway sait qu'elle doit router cet appel vers le <code class="code" id="ej6blc_132">Service Catalogue</code>.</p></li><li class="list__item" id="ej6blc_127"><p id="ej6blc_133"><span class="control" id="ej6blc_134">Agr&eacute;gation :</span> Pour une page, le client a besoin d'infos sur un livre et son auteur. Au lieu de faire deux appels, le client fait un seul appel &agrave; la gateway, qui se charge d'appeler le <code class="code" id="ej6blc_135">Service Catalogue</code> et le <code class="code" id="ej6blc_136">Service Utilisateurs</code> et de fusionner les r&eacute;ponses.</p></li><li class="list__item" id="ej6blc_128"><p id="ej6blc_137"><span class="control" id="ej6blc_138">Responsabilit&eacute;s transversales :</span> La gateway peut g&eacute;rer l'authentification, la journalisation (logging), la limitation de d&eacute;bit (rate limiting), le cache, etc., de mani&egrave;re centralis&eacute;e.</p></li></ol></li></ul><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="435px" preserveAspectRatio="none" style="width:414px;height:435px;background:#FFFFFF;" version="1.1" viewBox="0 0 414 435" width="414px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="146" x="131" y="28.5352">Pattern API Gateway</text><rect fill="#DDDDDD" height="386.1504" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="240" y="43.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="116" x="266" y="56.0566">Backend Services</text><rect fill="#FFFFFF" height="181.8633" style="stroke:#696969;stroke-width:1.0;" width="10" x="177" y="150.2871"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#696969;stroke-width:1.0;" width="10" x="277" y="179.5977"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#696969;stroke-width:1.0;" width="10" x="362" y="238.2188"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="28" x2="28" y1="118.9766" y2="350.1504"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="181.5" x2="181.5" y1="118.9766" y2="350.1504"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="282" x2="282" y1="118.9766" y2="350.1504"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="367" x2="367" y1="118.9766" y2="350.1504"/><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="5" y="116.0234">Client</text><ellipse cx="28" cy="50.9883" fill="#454645" rx="8" ry="8" style="stroke:#454645;stroke-width:0.5;"/><path d="M28,58.9883 L28,85.9883 M15,66.9883 L41,66.9883 M28,85.9883 L15,100.9883 M28,85.9883 L41,100.9883 " fill="none" style="stroke:#454645;stroke-width:0.5;"/><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="5" y="362.6855">Client</text><ellipse cx="28" cy="374.1387" fill="#454645" rx="8" ry="8" style="stroke:#454645;stroke-width:0.5;"/><path d="M28,382.1387 L28,409.1387 M15,390.1387 L41,390.1387 M28,409.1387 L15,424.1387 M28,409.1387 L41,424.1387 " fill="none" style="stroke:#454645;stroke-width:0.5;"/><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="97" x="133.5" y="87.4883"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="140.5" y="108.0234">API Gateway</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="97" x="133.5" y="349.1504"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="140.5" y="369.6855">API Gateway</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="76" x="244" y="87.4883"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="251" y="108.0234">Service A</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="76" x="244" y="349.1504"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="251" y="369.6855">Service A</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="74" x="330" y="87.4883"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="337" y="108.0234">Service B</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="74" x="330" y="349.1504"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="337" y="369.6855">Service B</text><rect fill="#FFFFFF" height="181.8633" style="stroke:#696969;stroke-width:1.0;" width="10" x="177" y="150.2871"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#696969;stroke-width:1.0;" width="10" x="277" y="179.5977"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#696969;stroke-width:1.0;" width="10" x="362" y="238.2188"/><polygon fill="#454645" points="165,146.2871,175,150.2871,165,154.2871,169,150.2871" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="28" x2="171" y1="150.2871" y2="150.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="35" y="145.5449">/api/composite/123</text><polygon fill="#454645" points="265,175.5977,275,179.5977,265,183.5977,269,179.5977" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="187" x2="271" y1="179.5977" y2="179.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="194" y="174.8555">/a/123</text><polygon fill="#454645" points="198,204.9082,188,208.9082,198,212.9082,194,208.9082" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="192" x2="281" y1="208.9082" y2="208.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="204" y="204.166">R&#233;ponse A</text><polygon fill="#454645" points="350,234.2188,360,238.2188,350,242.2188,354,238.2188" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="187" x2="356" y1="238.2188" y2="238.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="194" y="233.4766">/b/123</text><polygon fill="#454645" points="198,263.5293,188,267.5293,198,271.5293,194,267.5293" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="192" x2="366" y1="267.5293" y2="267.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="204" y="262.7871">R&#233;ponse B</text><path d="M88,284.0293 L88,302.0293 A3.5,3.5 0 0 0 91.5,305.5293 L272.5,305.5293 A3.5,3.5 0 0 0 276,302.0293 L276,290.5293 L266,280.5293 L91.5,280.5293 A3.5,3.5 0 0 0 88,284.0293 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M266,280.5293 L266,288.7793 A1.75,1.75 0 0 0 267.75,290.5293 L276,290.5293 L266,280.5293 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="94" y="298.0977">Agr&#232;ge les r&#233;ponses A et B</text><polygon fill="#454645" points="39,328.1504,29,332.1504,39,336.1504,35,332.1504" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="33" x2="181" y1="332.1504" y2="332.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="45" y="327.4082">R&#233;ponse finale</text><!--SRC=[TP71JiCm38RlVWhJ2wSohTnsGEegX7fXqyOBP9aP5brIfMc1DsBFqHV3sLfe9d6C_N-_Vpit_esEX1tld38UFFkAC5ahxyaPpDSbFYbF7-eh0L3QMuT5nIJAMZdFcckXHWcg1fCOsTbFJ9PAlvFPuvPSnvgQ98AtypCtD36_wcPHTvb0S19RW4iGJ1z-vozmfcgUQNkiRSEUPlFiFgJcJWIZ2c2K2od30nGBjtEGUXePR_fJRKqZ-M1FKsNabWMttPLR1bB_nsqPkMK0jw9CiLXjDe_5Ixbwnh8eGqaQAuEjvue5QmsXiOBKjdMuxq_QiRkKWviro2Pye3nRd9pp3iwKxSYDQHQO7rp_VI2ig44t16imH_8IxsyzMM2u-2J_AnjLqNI9GVy3]--></g></svg></div></section><section class="chapter"><h3 id="le-pattern-service-discovery" data-toc="le-pattern-service-discovery">Le Pattern Service Discovery</h3><ul class="list _bullet" id="ej6blc_139"><li class="list__item" id="ej6blc_141"><p id="ej6blc_144"><span class="control" id="ej6blc_145">Probl&egrave;me :</span> Dans un environnement cloud, les instances de service peuvent d&eacute;marrer et s'arr&ecirc;ter dynamiquement. Leurs adresses IP changent constamment. Comment le <code class="code" id="ej6blc_146">Service Emprunts</code> peut-il trouver l'adresse actuelle du <code class="code" id="ej6blc_147">Service Catalogue</code>?</p></li><li class="list__item" id="ej6blc_142"><p id="ej6blc_148"><span class="control" id="ej6blc_149">Solution :</span> Utiliser un <span class="control" id="ej6blc_150">annuaire central</span>, appel&eacute; le registre de services (Service Registry).</p></li><li class="list__item" id="ej6blc_143"><p id="ej6blc_151"><span class="control" id="ej6blc_153">Fonctionnement :</span></p><ol class="list _decimal" id="ej6blc_152" type="1"><li class="list__item" id="ej6blc_154"><p id="ej6blc_157"><span class="control" id="ej6blc_158">Enregistrement (Registration) :</span> Quand une instance d'un service d&eacute;marre, elle s'enregistre aupr&egrave;s du registre en donnant son nom et son adresse (<code class="code" id="ej6blc_159">Service Catalogue</code>, <code class="code" id="ej6blc_160">10.20.30.40:8080</code>).</p></li><li class="list__item" id="ej6blc_155"><p id="ej6blc_161"><span class="control" id="ej6blc_162">D&eacute;couverte (Discovery) :</span> Quand le <code class="code" id="ej6blc_163">Service Emprunts</code> veut appeler le <code class="code" id="ej6blc_164">Service Catalogue</code>, il demande au registre : &quot;Donne-moi l'adresse d'une instance saine de <code class="code" id="ej6blc_165">Service Catalogue</code> &quot;.</p></li><li class="list__item" id="ej6blc_156"><p id="ej6blc_166"><span class="control" id="ej6blc_167">Bilan de sant&eacute; (Health Check) :</span> Le registre ou les services eux-m&ecirc;mes v&eacute;rifient r&eacute;guli&egrave;rement que les instances sont toujours en vie. Celles qui ne r&eacute;pondent plus sont retir&eacute;es de l'annuaire.</p></li></ol></li></ul><p id="ej6blc_140"><span class="control" id="ej6blc_168">Exemples d'outils :</span> Netflix Eureka, Consul, et les m&eacute;canismes int&eacute;gr&eacute;s dans des orchestrateurs comme Kubernetes.</p></section></section><section class="chapter"><h2 id="une-alternative-l-architecture-orient-e-v-nements-eda" data-toc="une-alternative-l-architecture-orient-e-v-nements-eda">Une Alternative : L'Architecture Orient&eacute;e &Eacute;v&eacute;nements (EDA)</h2><p id="ej6blc_169">Les architectures Monolithique et Microservices sont principalement bas&eacute;es sur un mod&egrave;le de communication **synchrone ** (requ&ecirc;te/r&eacute;ponse). L'EDA propose un mod&egrave;le <span class="control" id="ej6blc_175">asynchrone</span>.</p><ul class="list _bullet" id="ej6blc_170"><li class="list__item" id="ej6blc_176"><p id="ej6blc_179"><span class="control" id="ej6blc_180">D&eacute;finition :</span> Les composants du syst&egrave;me communiquent en produisant et en consommant des <span class="control" id="ej6blc_181">&eacute;v&eacute;nements</span>. Ils ne s'appellent pas directement.</p></li><li class="list__item" id="ej6blc_177"><p id="ej6blc_182"><span class="control" id="ej6blc_183">Analogie :</span> Une station de radio. Le producteur (<code class="code" id="ej6blc_184">Producer</code>) &eacute;met un message sur une fr&eacute;quence. Il ne sait pas qui &eacute;coute. Les auditeurs (<code class="code" id="ej6blc_185">Consumers</code>) qui sont branch&eacute;s sur la bonne fr&eacute;quence re&ccedil;oivent le message et r&eacute;agissent.</p></li><li class="list__item" id="ej6blc_178"><p id="ej6blc_186"><span class="control" id="ej6blc_188">Composants cl&eacute;s :</span></p><ul class="list _bullet" id="ej6blc_187"><li class="list__item" id="ej6blc_189"><p id="ej6blc_192"><span class="control" id="ej6blc_193">Producteur :</span> Le composant qui &eacute;met un &eacute;v&eacute;nement (ex: <code class="code" id="ej6blc_194">CommandePass&eacute;e</code>).</p></li><li class="list__item" id="ej6blc_190"><p id="ej6blc_195"><span class="control" id="ej6blc_196">Consommateur :</span> Le composant qui s'abonne &agrave; un type d'&eacute;v&eacute;nement et r&eacute;agit.</p></li><li class="list__item" id="ej6blc_191"><p id="ej6blc_197"><span class="control" id="ej6blc_198">Broker d'&eacute;v&eacute;nements (ou Message Bus) :</span> L'infrastructure centrale (ex: <span class="control" id="ej6blc_199">RabbitMQ, Apache Kafka</span>) qui re&ccedil;oit les &eacute;v&eacute;nements et les distribue aux consommateurs int&eacute;ress&eacute;s.</p></li></ul></li></ul><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="332px" preserveAspectRatio="none" style="width:837px;height:332px;background:#FFFFFF;" version="1.1" viewBox="0 0 837 332" width="837px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="289" x="276" y="28.5352">Architecture Orient&#233;e &#201;v&#233;nements (EDA)</text><rect fill="#FFFFFF" height="30" style="stroke:#696969;stroke-width:1.0;" width="10" x="76" y="105.2871"/><rect fill="#FFFFFF" height="64.6211" style="stroke:#696969;stroke-width:1.0;" width="10" x="456" y="164.5977"/><rect fill="#FFFFFF" height="77.6211" style="stroke:#696969;stroke-width:1.0;" width="10" x="610" y="193.9082"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="81" x2="81" y1="73.9766" y2="296.5293"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="304" x2="304" y1="73.9766" y2="296.5293"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="461" x2="461" y1="73.9766" y2="296.5293"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="615" x2="615" y1="73.9766" y2="296.5293"/><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="152" x="5" y="42.4883"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="12" y="63.0234">Service Commandes</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="152" x="5" y="295.5293"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="12" y="316.0645">Service Commandes</text><path d="M230,47.4883 L378,47.4883 C383,47.4883 383,60.7324 383,60.7324 C383,60.7324 383,73.9766 378,73.9766 L230,73.9766 C225,73.9766 225,60.7324 225,60.7324 C225,60.7324 225,47.4883 230,47.4883 " fill="#FF6347" style="stroke:#454645;stroke-width:1.5;"/><path d="M378,47.4883 C373,47.4883 373,60.7324 373,60.7324 C373,73.9766 378,73.9766 378,73.9766 " fill="none" style="stroke:#454645;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="230" y="66.0234">Event Broker (Kafka)</text><path d="M230,295.5293 L378,295.5293 C383,295.5293 383,308.7734 383,308.7734 C383,308.7734 383,322.0176 378,322.0176 L230,322.0176 C225,322.0176 225,308.7734 225,308.7734 C225,308.7734 225,295.5293 230,295.5293 " fill="#FF6347" style="stroke:#454645;stroke-width:1.5;"/><path d="M378,295.5293 C373,295.5293 373,308.7734 373,308.7734 C373,322.0176 378,322.0176 378,322.0176 " fill="none" style="stroke:#454645;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="230" y="314.0645">Event Broker (Kafka)</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="136" x="393" y="42.4883"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="400" y="63.0234">Service Paiements</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="136" x="393" y="295.5293"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="400" y="316.0645">Service Paiements</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="152" x="539" y="42.4883"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="546" y="63.0234">Service Notifications</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="152" x="539" y="295.5293"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="546" y="316.0645">Service Notifications</text><rect fill="#FFFFFF" height="30" style="stroke:#696969;stroke-width:1.0;" width="10" x="76" y="105.2871"/><rect fill="#FFFFFF" height="64.6211" style="stroke:#696969;stroke-width:1.0;" width="10" x="456" y="164.5977"/><rect fill="#FFFFFF" height="77.6211" style="stroke:#696969;stroke-width:1.0;" width="10" x="610" y="193.9082"/><polygon fill="#454645" points="292,101.2871,302,105.2871,292,109.2871,296,105.2871" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="86" x2="298" y1="105.2871" y2="105.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="93" y="100.5449">&#201;v&#233;nement: "CommandePass&#233;e"</text><polygon fill="#454645" points="444,160.5977,454,164.5977,444,168.5977,448,164.5977" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="304" x2="450" y1="164.5977" y2="164.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="311" y="159.8555">"CommandePass&#233;e"</text><polygon fill="#454645" points="598,189.9082,608,193.9082,598,197.9082,602,193.9082" style="stroke:#454645;stroke-width:1.0;"/><line style="stroke:#454645;stroke-width:1.0;" x1="304" x2="604" y1="193.9082" y2="193.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="311" y="189.166">"CommandePass&#233;e"</text><line style="stroke:#454645;stroke-width:1.0;" x1="466" x2="508" y1="228.2188" y2="228.2188"/><line style="stroke:#454645;stroke-width:1.0;" x1="508" x2="508" y1="228.2188" y2="241.2188"/><line style="stroke:#454645;stroke-width:1.0;" x1="461" x2="508" y1="241.2188" y2="241.2188"/><polygon fill="#454645" points="471,237.2188,461,241.2188,471,245.2188,467,241.2188" style="stroke:#454645;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="473" y="223.4766">Traite le paiement</text><line style="stroke:#454645;stroke-width:1.0;" x1="620" x2="662" y1="270.5293" y2="270.5293"/><line style="stroke:#454645;stroke-width:1.0;" x1="662" x2="662" y1="270.5293" y2="283.5293"/><line style="stroke:#454645;stroke-width:1.0;" x1="615" x2="662" y1="283.5293" y2="283.5293"/><polygon fill="#454645" points="625,279.5293,615,283.5293,625,287.5293,621,283.5293" style="stroke:#454645;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="627" y="265.7871">Envoie un email de confirmation</text><!--SRC=[ZP5DJWCn38NtEON9gYnOCCika4gPLIKO2IvWCgvgjKc6Z9CxS9IUOov61FFNCa9ixUVlFTitSY1BaFWze1CbB2S2lGdcm496OY1u2KnEkZD1zvcwiyjw9osiogVDhLQgmI1ikCdZK0LVHqC1i0NzIY6n8TXwQz7Lr6hr4IaIF0P_x3LbogoXiDhX_eYPEKTklMkZfN1_mQoGVs8iYuiByRCNthD1uTpEYSUKTm-3zNg-snhqaBd2jisRQuL6EA7GkAAgwNTDzRWCddB_YHjb2wF5_qOBfIQpA-UtWFcFa7_Qz1URvvxCrUHv5Q1qoJD1T40M-GGrWV5kpy5-ttC9Ltm1]--></g></svg></div><ul class="list _bullet" id="ej6blc_172"><li class="list__item" id="ej6blc_200"><p id="ej6blc_202"><span class="control" id="ej6blc_203">Avantages :</span> <span class="control" id="ej6blc_204">D&eacute;couplage extr&ecirc;me</span>. Le service de commandes n'a aucune id&eacute;e de l'existence des services de paiement ou de notification. On peut ajouter de nouveaux consommateurs sans jamais modifier le producteur. Grande * <span class="emphasis" id="ej6blc_205">r&eacute;silience</span>* et <span class="control" id="ej6blc_206">scalabilit&eacute;</span>.</p></li><li class="list__item" id="ej6blc_201"><p id="ej6blc_207"><span class="control" id="ej6blc_208">Inconv&eacute;nients :</span> Le flux de travail n'est pas explicite, ce qui peut rendre le syst&egrave;me difficile &agrave; d&eacute;bugger. La gestion de la <span class="control" id="ej6blc_209">coh&eacute;rence &eacute;ventuelle</span> (eventual consistency) est un d&eacute;fi (les donn&eacute;es ne sont pas &agrave; jour partout instantan&eacute;ment).</p></li></ul><section class="chapter"><h3 id="exercice-13-sc-nario-d-volution-d-architecture" data-toc="exercice-13-sc-nario-d-volution-d-architecture">Exercice 13 : Sc&eacute;nario d'&Eacute;volution d'Architecture</h3><p id="ej6blc_210">Notre application de biblioth&egrave;que, actuellement monolithique, a un succ&egrave;s fulgurant. La direction veut ajouter de nombreuses fonctionnalit&eacute;s et s'&eacute;tendre &agrave; l'international. L'architecture monolithique commence &agrave; montrer ses limites.</p><p id="ej6blc_211"><span class="control" id="ej6blc_213">Votre mission (exercice de r&eacute;flexion) :</span></p><ol class="list _decimal" id="ej6blc_212" type="1"><li class="list__item" id="ej6blc_214"><p id="ej6blc_217">Proposez une d&eacute;composition de notre monolithe en au moins 3 microservices. Donnez un nom et une responsabilit&eacute; principale &agrave; chacun.</p></li><li class="list__item" id="ej6blc_215"><p id="ej6blc_218">Prenez une fonctionnalit&eacute; simple comme &quot;un utilisateur emprunte un livre&quot;. D&eacute;crivez les interactions (appels API) qui auraient lieu entre vos microservices pour accomplir cette t&acirc;che.</p></li><li class="list__item" id="ej6blc_216"><p id="ej6blc_219">Identifiez au moins deux nouveaux d&eacute;fis majeurs que cette nouvelle architecture introduit par rapport au monolithe.</p></li></ol></section><section class="chapter"><h3 id="correction-exercice-13-collapsible-true" data-toc="correction-exercice-13-collapsible-true">Correction exercice 13 {collapsible='true''}</h3><p id="ej6blc_220">C'est un excellent exercice pour se projeter dans le r&ocirc;le d'un architecte logiciel.</p><ol class="list _decimal" id="ej6blc_221" type="1"><li class="list__item" id="ej6blc_222"><p id="ej6blc_225"><span class="control" id="ej6blc_227">D&eacute;composition en Microservices :</span></p><ul class="list _bullet" id="ej6blc_226"><li class="list__item" id="ej6blc_228"><p id="ej6blc_231"><span class="control" id="ej6blc_232"><code class="code" id="ej6blc_233">Book-Catalog-Service</code>:</span> Responsable de tout ce qui concerne les livres, les auteurs, les cat&eacute;gories. Fournit une API pour rechercher des livres, obtenir des d&eacute;tails, g&eacute;rer l'inventaire.</p></li><li class="list__item" id="ej6blc_229"><p id="ej6blc_234"><span class="control" id="ej6blc_235"><code class="code" id="ej6blc_236">User-Management-Service</code>:</span> G&egrave;re les profils des utilisateurs, l'authentification, les autorisations, les coordonn&eacute;es.</p></li><li class="list__item" id="ej6blc_230"><p id="ej6blc_237"><span class="control" id="ej6blc_238"><code class="code" id="ej6blc_239">Loan-Service</code>:</span> Orchestre la logique d'emprunt. Il g&egrave;re l'historique des emprunts, les dates de retour, le calcul des p&eacute;nalit&eacute;s. C'est un service principalement m&eacute;tier.</p></li></ul></li><li class="list__item" id="ej6blc_223"><p id="ej6blc_240"><span class="control" id="ej6blc_242">Interactions pour &quot;emprunter un livre&quot; :</span></p><ul class="list _bullet" id="ej6blc_241"><li class="list__item" id="ej6blc_243"><p id="ej6blc_250"><span class="control" id="ej6blc_251">&Eacute;tape 1 :</span> Le client (ex: une borne dans la biblioth&egrave;que) envoie une requ&ecirc;te <code class="code" id="ej6blc_252">POST /api/loans</code> au <code class="code" id="ej6blc_253">Loan-Service</code>, en fournissant <code class="code" id="ej6blc_254">userId</code> et <code class="code" id="ej6blc_255">bookId</code>.</p></li><li class="list__item" id="ej6blc_244"><p id="ej6blc_256"><span class="control" id="ej6blc_257">&Eacute;tape 2 :</span> Le <code class="code" id="ej6blc_258">Loan-Service</code> re&ccedil;oit la requ&ecirc;te. Pour la valider, il doit v&eacute;rifier que l'utilisateur et le livre existent et sont valides.</p></li><li class="list__item" id="ej6blc_245"><p id="ej6blc_259"><span class="control" id="ej6blc_260">&Eacute;tape 3 :</span> Le <code class="code" id="ej6blc_261">Loan-Service</code> fait un appel API <code class="code" id="ej6blc_262">GET</code> au <code class="code" id="ej6blc_263">User-Management-Service</code> (<code class="code" id="ej6blc_264">/api/users/{userId}/status</code>) pour v&eacute;rifier que l'utilisateur a le droit d'emprunter.</p></li><li class="list__item" id="ej6blc_246"><p id="ej6blc_265"><span class="control" id="ej6blc_266">&Eacute;tape 4 :</span> Le <code class="code" id="ej6blc_267">Loan-Service</code> fait un appel API <code class="code" id="ej6blc_268">GET</code> au <code class="code" id="ej6blc_269">Book-Catalog-Service</code> (<code class="code" id="ej6blc_270">/api/books/{bookId}/stock</code>) pour v&eacute;rifier que le livre est disponible.</p></li><li class="list__item" id="ej6blc_247"><p id="ej6blc_271"><span class="control" id="ej6blc_272">&Eacute;tape 5 :</span> Si tout est OK, le <code class="code" id="ej6blc_273">Loan-Service</code> enregistre l'emprunt dans sa propre base de donn&eacute;es.</p></li><li class="list__item" id="ej6blc_248"><p id="ej6blc_274"><span class="control" id="ej6blc_275">&Eacute;tape 6 :</span> Le <code class="code" id="ej6blc_276">Loan-Service</code> fait un appel API <code class="code" id="ej6blc_277">POST</code> (ou <code class="code" id="ej6blc_278">PUT</code>) au <code class="code" id="ej6blc_279">Book-Catalog-Service</code> (<code class="code" id="ej6blc_280">/api/books/{bookId}/decrease-stock</code>) pour d&eacute;cr&eacute;menter le stock.</p></li><li class="list__item" id="ej6blc_249"><p id="ej6blc_281"><span class="control" id="ej6blc_282">&Eacute;tape 7 :</span> Le <code class="code" id="ej6blc_283">Loan-Service</code> renvoie une r&eacute;ponse de succ&egrave;s au client.</p></li></ul></li><li class="list__item" id="ej6blc_224"><p id="ej6blc_284"><span class="control" id="ej6blc_286">Nouveaux D&eacute;fis Majeurs :</span></p><ul class="list _bullet" id="ej6blc_285"><li class="list__item" id="ej6blc_287"><p id="ej6blc_289"><span class="control" id="ej6blc_290">Transactions distribu&eacute;es :</span> Que se passe-t-il si l'&eacute;tape 5 (sauvegarder l'emprunt) r&eacute;ussit, mais que l'&eacute;tape 6 (d&eacute;cr&eacute;menter le stock) &eacute;choue &agrave; cause d'une panne r&eacute;seau ? On se retrouve avec des donn&eacute;es incoh&eacute;rentes. La gestion des transactions sur plusieurs services est un probl&egrave;me complexe (le pattern <span class="control" id="ej6blc_291">Saga</span> est une solution).</p></li><li class="list__item" id="ej6blc_288"><p id="ej6blc_292"><span class="control" id="ej6blc_293">Latence r&eacute;seau et fiabilit&eacute; :</span> Notre fonctionnalit&eacute;, qui &eacute;tait une s&eacute;rie d'appels de m&eacute;thode instantan&eacute;s dans le monolithe, est maintenant une cha&icirc;ne d'appels r&eacute;seau, chacun ajoutant de la latence et un risque de panne. Il faut mettre en place des strat&eacute;gies de re-tentative (retry) et des disjoncteurs (circuit breakers).</p></li></ul></li></ol></section></section><section class="chapter"><h2 id="auto-valuation" data-toc="auto-valuation">Auto-&eacute;valuation</h2><p id="ej6blc_294">Testez votre compr&eacute;hension de ces concepts de haut niveau.</p><p id="ej6blc_295"><span class="control" id="ej6blc_299">Questions &agrave; Choix Multiple (QCM)</span></p><ol class="list _decimal" id="ej6blc_296" type="1"><li class="list__item" id="ej6blc_300"><p id="ej6blc_304">La principale diff&eacute;rence entre un pattern de conception et un pattern d'architecture est :</p><ul class="list _bullet" id="ej6blc_305"><li class="list__item" id="ej6blc_306"><p id="ej6blc_310">a) Les patterns d'architecture ne s'appliquent qu'au cloud.</p></li><li class="list__item" id="ej6blc_307"><p id="ej6blc_311">b) Les patterns de conception concernent la structure interne d'un composant, tandis que les patterns d'architecture concernent l'organisation globale du syst&egrave;me.</p></li><li class="list__item" id="ej6blc_308"><p id="ej6blc_312">c) Il n'y a pas de diff&eacute;rence.</p></li><li class="list__item" id="ej6blc_309"><p id="ej6blc_313">d) Les patterns d'architecture sont plus anciens que les patterns de conception.</p></li></ul></li><li class="list__item" id="ej6blc_301"><p id="ej6blc_314">Quel est le principal avantage d'une architecture monolithique ?</p><ul class="list _bullet" id="ej6blc_315"><li class="list__item" id="ej6blc_316"><p id="ej6blc_320">a) Scalabilit&eacute; infinie.</p></li><li class="list__item" id="ej6blc_317"><p id="ej6blc_321">b) Simplicit&eacute; de d&eacute;veloppement et de d&eacute;ploiement au d&eacute;but du projet.</p></li><li class="list__item" id="ej6blc_318"><p id="ej6blc_322">c) Flexibilit&eacute; technologique.</p></li><li class="list__item" id="ej6blc_319"><p id="ej6blc_323">d) R&eacute;silience aux pannes.</p></li></ul></li><li class="list__item" id="ej6blc_302"><p id="ej6blc_324">Dans une architecture microservices, le pattern API Gateway sert principalement de...</p><ul class="list _bullet" id="ej6blc_325"><li class="list__item" id="ej6blc_326"><p id="ej6blc_330">a) Base de donn&eacute;es centrale.</p></li><li class="list__item" id="ej6blc_327"><p id="ej6blc_331">b) Annuaire pour trouver d'autres services.</p></li><li class="list__item" id="ej6blc_328"><p id="ej6blc_332">c) Fa&ccedil;ade pour le syst&egrave;me, simplifiant l'acc&egrave;s pour les clients.</p></li><li class="list__item" id="ej6blc_329"><p id="ej6blc_333">d) Broker d'&eacute;v&eacute;nements.</p></li></ul></li><li class="list__item" id="ej6blc_303"><p id="ej6blc_334">L'architecture orient&eacute;e &eacute;v&eacute;nements (EDA) est caract&eacute;ris&eacute;e par une communication...</p><ul class="list _bullet" id="ej6blc_335"><li class="list__item" id="ej6blc_336"><p id="ej6blc_340">a) Synchrone et fortement coupl&eacute;e.</p></li><li class="list__item" id="ej6blc_337"><p id="ej6blc_341">b) Asynchrone et faiblement coupl&eacute;e.</p></li><li class="list__item" id="ej6blc_338"><p id="ej6blc_342">c) Uniquement via des bases de donn&eacute;es partag&eacute;es.</p></li><li class="list__item" id="ej6blc_339"><p id="ej6blc_343">d) Qui ne fonctionne que pour les applications temps r&eacute;el.</p></li></ul></li></ol><p id="ej6blc_297"><span class="control" id="ej6blc_344">Questions Ouvertes</span></p><ol class="list _decimal" id="ej6blc_298" type="1" start="5"><li class="list__item" id="ej6blc_345"><p id="ej6blc_347">Expliquez pourquoi la gestion des donn&eacute;es est souvent consid&eacute;r&eacute;e comme le d&eacute;fi le plus difficile dans une architecture microservices.</p></li><li class="list__item" id="ej6blc_346"><p id="ej6blc_348">Donnez un exemple concret d'un &eacute;v&eacute;nement qui pourrait &ecirc;tre &eacute;mis dans notre application de biblioth&egrave;que, et nommez deux consommateurs potentiels qui pourraient &ecirc;tre int&eacute;ress&eacute;s par cet &eacute;v&eacute;nement.</p></li></ol></section><section class="chapter"><h2 id="conclusion" data-toc="conclusion">Conclusion</h2><p id="ej6blc_349">Ce dernier module vous a donn&eacute; une vue &agrave; 30 000 pieds de la conception logicielle. Vous comprenez maintenant que le choix d'une architecture est une d&eacute;cision fondamentale qui repose sur un arbitrage complexe entre simplicit&eacute;, scalabilit&eacute;, r&eacute;silience et co&ucirc;t.</p><p id="ej6blc_350">Il n'y a pas de &quot;meilleure&quot; architecture. Le monolithe est parfait pour d&eacute;marrer, les microservices sont puissants pour g&eacute;rer la complexit&eacute; &agrave; grande &eacute;chelle, et l'EDA offre une flexibilit&eacute; incroyable pour les syst&egrave;mes r&eacute;actifs.</p><p id="ej6blc_351">En tant que concepteur, votre r&ocirc;le est d'analyser le contexte de votre projet &ndash; la taille de l'&eacute;quipe, les comp&eacute;tences, les objectifs m&eacute;tier, les contraintes de temps et de budget &ndash; et de participer au choix du plan d'urbanisme le plus adapt&eacute;. Cette comp&eacute;tence, combin&eacute;e &agrave; votre ma&icirc;trise des patterns de plus bas niveau, fera de vous un d&eacute;veloppeur et un architecte logiciel complet et pr&eacute;cieux.</p><section class="chapter"><h3 id="corrections-de-l-auto-valuation-architecture" data-toc="corrections-de-l-auto-valuation-architecture">Corrections de l'auto-&eacute;valuation (Architecture)</h3><ol class="list _decimal" id="ej6blc_353" type="1"><li class="list__item" id="ej6blc_354"><p id="ej6blc_360">b)</p></li><li class="list__item" id="ej6blc_355"><p id="ej6blc_361">b)</p></li><li class="list__item" id="ej6blc_356"><p id="ej6blc_362">c)</p></li><li class="list__item" id="ej6blc_357"><p id="ej6blc_363">b)</p></li><li class="list__item" id="ej6blc_358"><p id="ej6blc_364"><span class="control" id="ej6blc_365">D&eacute;fi de la gestion des donn&eacute;es :</span> Dans un monolithe, toutes les donn&eacute;es sont dans une seule base, garantissant la coh&eacute;rence via des transactions ACID. Dans les microservices, chaque service poss&egrave;de ses propres donn&eacute;es. Cela pose deux probl&egrave;mes majeurs : <span class="control" id="ej6blc_366">1. Joindre des donn&eacute;es :</span> pour obtenir des informations qui se trouvent dans deux services diff&eacute;rents, on doit faire des appels r&eacute;seau, ce qui est complexe et lent. <span class="control" id="ej6blc_367">2. Maintenir la coh&eacute;rence :</span> une op&eacute;ration m&eacute;tier qui doit modifier des donn&eacute;es dans plusieurs services ne peut pas utiliser une transaction BDD classique. Il faut utiliser des m&eacute;canismes complexes comme le pattern Saga pour assurer une coh&eacute;rence &quot;&eacute;ventuelle&quot;, ce qui est plus difficile &agrave; raisonner.</p></li><li class="list__item" id="ej6blc_359"><p id="ej6blc_368"><span class="control" id="ej6blc_370">Exemple d'&eacute;v&eacute;nement :</span></p><ul class="list _bullet" id="ej6blc_369"><li class="list__item" id="ej6blc_371"><p id="ej6blc_374"><span class="control" id="ej6blc_375">&Eacute;v&eacute;nement :</span> <code class="code" id="ej6blc_376">UserRegisteredEvent</code> (un nouvel utilisateur s'est inscrit).</p></li><li class="list__item" id="ej6blc_372"><p id="ej6blc_377"><span class="control" id="ej6blc_378">Consommateur 1 :</span> Un <code class="code" id="ej6blc_379">WelcomeEmailService</code> qui s'abonne &agrave; cet &eacute;v&eacute;nement pour envoyer un email de bienvenue au nouvel utilisateur.</p></li><li class="list__item" id="ej6blc_373"><p id="ej6blc_380"><span class="control" id="ej6blc_381">Consommateur 2 :</span> Un <code class="code" id="ej6blc_382">AnalyticsService</code> qui s'abonne &agrave; cet &eacute;v&eacute;nement pour mettre &agrave; jour le tableau de bord du nombre total d'inscriptions. Le service qui a g&eacute;r&eacute; l'inscription (ex: <code class="code" id="ej6blc_383">User-Management-Service</code>) n'a pas besoin de savoir que ces autres services existent, il se contente de publier l'&eacute;v&eacute;nement.</p></li></ul></li></ol></section></section><div class="last-modified">26 juillet 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="007-00-database-patterns.html" class="navigation-links__prev">Hors-S&eacute;rie : Patterns de Persistance et ORM</a><a href="009-00-anti-patterns.html" class="navigation-links__next">Hors-S&eacute;rie : Le Mus&eacute;e des Horreurs - Les Anti-Patterns</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>