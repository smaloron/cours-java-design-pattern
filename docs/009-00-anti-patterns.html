<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-28T16:55:43.817356"><title>Hors-S&eacute;rie : Le Mus&eacute;e des Horreurs - Les Anti-Patterns | Java-design-pattern</title><script type="application/json" id="virtual-toc-data">[{"id":"objectifs-p-dagogiques","level":0,"title":"Objectifs Pédagogiques","anchor":"#objectifs-p-dagogiques"},{"id":"introduction-naviguer-dans-le-champ-de-mines","level":0,"title":"Introduction : Naviguer dans le Champ de Mines","anchor":"#introduction-naviguer-dans-le-champ-de-mines"},{"id":"l-essentiel-catalogue-des-erreurs-courantes","level":0,"title":"L\u0027essentiel : Catalogue des Erreurs Courantes","anchor":"#l-essentiel-catalogue-des-erreurs-courantes"},{"id":"auto-valuation","level":0,"title":"Auto-évaluation","anchor":"#auto-valuation"},{"id":"conclusion","level":0,"title":"Conclusion","anchor":"#conclusion"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Hors-S&eacute;rie : Le Mus&eacute;e des Horreurs - Les Anti-Patterns | Java-design-pattern"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Java-design-pattern Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/009-00-anti-patterns.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Hors-S&eacute;rie : Le Mus&eacute;e des Horreurs - Les Anti-Patterns | Java-design-pattern"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/009-00-anti-patterns.html#webpage",
    "url": "writerside-documentation/009-00-anti-patterns.html",
    "name": "Hors-S&eacute;rie : Le Mus&eacute;e des Horreurs - Les Anti-Patterns | Java-design-pattern",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Java-design-pattern Help"
}</script><!-- End Schema.org --></head><body data-id="009-00-anti-patterns" data-main-title="Hors-Série : Le Musée des Horreurs - Les Anti-Patterns" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Java-design-pattern  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="009-00-anti-patterns" id="009-00-anti-patterns.md">Hors-Série : Le Musée des Horreurs - Les Anti-Patterns</h1><section class="chapter"><h2 id="objectifs-p-dagogiques" data-toc="objectifs-p-dagogiques">Objectifs P&eacute;dagogiques</h2><p id="z7ov60w_8">&Agrave; la fin de ce module, vous serez capable de :</p><ul class="list _bullet" id="z7ov60w_9"><li class="list__item" id="z7ov60w_10"><p id="z7ov60w_15"><span class="control" id="z7ov60w_16">D&eacute;finir</span> ce qu'est un &quot;Anti-Pattern&quot;.</p></li><li class="list__item" id="z7ov60w_11"><p id="z7ov60w_17"><span class="control" id="z7ov60w_18">Identifier</span> plusieurs anti-patterns courants au niveau du code, de l'architecture et du processus.</p></li><li class="list__item" id="z7ov60w_12"><p id="z7ov60w_19"><span class="control" id="z7ov60w_20">Expliquer</span> pourquoi ces anti-patterns sont n&eacute;fastes pour la maintenabilit&eacute;, la testabilit&eacute; et l'&eacute;volution d'un projet.</p></li><li class="list__item" id="z7ov60w_13"><p id="z7ov60w_21"><span class="control" id="z7ov60w_22">Associer</span> chaque anti-pattern &agrave; un principe de bonne conception (comme S.O.L.I.D. ou D.R.Y.) ou &agrave; un pattern correctif.</p></li><li class="list__item" id="z7ov60w_14"><p id="z7ov60w_23"><span class="control" id="z7ov60w_24">D&eacute;velopper</span> un esprit critique lors des revues de code pour rep&eacute;rer et corriger ces mauvaises pratiques.</p></li></ul></section><section class="chapter"><h2 id="introduction-naviguer-dans-le-champ-de-mines" data-toc="introduction-naviguer-dans-le-champ-de-mines">Introduction : Naviguer dans le Champ de Mines</h2><p id="z7ov60w_25">Vous avez maintenant une excellente bo&icirc;te &agrave; outils de Design Patterns. Mais sur le terrain, vous rencontrerez des projets qui n'ont pas suivi ces plans. Ces projets sont souvent des champs de mines, truff&eacute;s de solutions qui semblaient une bonne id&eacute;e sur le moment, mais qui se sont r&eacute;v&eacute;l&eacute;es &ecirc;tre des pi&egrave;ges co&ucirc;teux &agrave; long terme.</p><p id="z7ov60w_26">Ces pi&egrave;ges ont un nom : les <span class="control" id="z7ov60w_28">Anti-Patterns</span>. Un anti-pattern n'est pas simplement du &quot;mauvais code&quot;. C'est une * <span class="emphasis" id="z7ov60w_29">solution couramment utilis&eacute;e &agrave; un probl&egrave;me, mais qui est contre-productive</span>*. C'est une fausse bonne id&eacute;e, une orni&egrave;re dans laquelle de nombreux d&eacute;veloppeurs sont tomb&eacute;s avant vous.</p><p id="z7ov60w_27">Apprendre &agrave; les reconna&icirc;tre, c'est comme avoir une carte du champ de mines. Cela vous prot&eacute;gera, vous et votre &eacute;quipe, de d&eacute;cisions qui peuvent paralyser un projet.</p></section><section class="chapter"><h2 id="l-essentiel-catalogue-des-erreurs-courantes" data-toc="l-essentiel-catalogue-des-erreurs-courantes">L'essentiel : Catalogue des Erreurs Courantes</h2><p id="z7ov60w_30">Nous allons classer ces anti-patterns par port&eacute;e, du plus local (code) au plus global (architecture).</p><section class="chapter"><h3 id="anti-patterns-de-d-veloppement" data-toc="anti-patterns-de-d-veloppement">Anti-Patterns de D&eacute;veloppement</h3><p id="z7ov60w_35">Ce sont les erreurs que l'on commet au quotidien en &eacute;crivant du code.</p><div class="tabs" id="z7ov60w_36" data-anchors="[z7ov60w_37,z7ov60w_38,z7ov60w_39,z7ov60w_40]"><div class="tabs__content" data-gtm="tab" id="z7ov60w_37" data-title="Spaghetti Code (Code Spaghetti)"><p id="z7ov60w_41"><b id="z7ov60w_45">Description :</b> Un code sans structure claire, o&ugrave; le flux d'ex&eacute;cution saute partout, comme un plat de spaghettis emm&ecirc;l&eacute;s. Les m&eacute;thodes sont longues, les d&eacute;pendances sont crois&eacute;es et il est presque impossible de suivre la logique.</p><p id="z7ov60w_42"><b id="z7ov60w_46">Sympt&ocirc;mes :</b> Faible coh&eacute;sion, fort couplage, utilisation abusive des variables globales, structures de contr&ocirc;le complexes et imbriqu&eacute;es.</p><p id="z7ov60w_43"><b id="z7ov60w_47">Cons&eacute;quences :</b> Maintenance impossible, d&eacute;buggage cauchemardesque, le moindre changement a des effets de bord impr&eacute;visibles.</p><p id="z7ov60w_44"><b id="z7ov60w_48">Rem&egrave;de :</b> Refactoring ! Appliquer des principes comme <b id="z7ov60w_49">S.O.L.I.D.</b>, extraire des logiques dans des classes et m&eacute;thodes plus petites, et utiliser des Design Patterns (<b id="z7ov60w_50">Strategy</b>, <b id="z7ov60w_51">Command</b>, <b id="z7ov60w_52">Facade</b>...) pour clarifier les responsabilit&eacute;s.</p></div><div class="tabs__content" data-gtm="tab" id="z7ov60w_38" data-title="God Object / God Class (Objet Divin)"><p id="z7ov60w_53"><b id="z7ov60w_57">Description :</b> Une classe qui concentre une quantit&eacute; &eacute;norme de responsabilit&eacute;s non li&eacute;es entre elles. Elle sait tout et fait tout. (Ex: une classe <code class="code" id="z7ov60w_58">Manager</code> qui g&egrave;re les utilisateurs, les produits, les commandes et les paiements).</p><p id="z7ov60w_54"><b id="z7ov60w_59">Sympt&ocirc;mes :</b> Fichiers de plusieurs milliers de lignes, des dizaines de d&eacute;pendances inject&eacute;es, une liste de m&eacute;thodes interminable.</p><p id="z7ov60w_55"><b id="z7ov60w_60">Cons&eacute;quences :</b> Violation flagrante du <b id="z7ov60w_61">Principe de Responsabilit&eacute; Unique (SRP)</b>. La classe est impossible &agrave; tester, &agrave; comprendre et &agrave; maintenir. Tout changement est risqu&eacute;.</p><p id="z7ov60w_56"><b id="z7ov60w_62">Rem&egrave;de :</b> D&eacute;composer la classe en plusieurs classes plus petites et coh&eacute;sives, chacune avec une seule responsabilit&eacute; (ex: <code class="code" id="z7ov60w_63">UserManager</code>, <code class="code" id="z7ov60w_64">ProductService</code>, etc.).</p></div><div class="tabs__content" data-gtm="tab" id="z7ov60w_39" data-title="Copy-Paste Programming (Programmation par Copier-Coller)"><p id="z7ov60w_65"><b id="z7ov60w_69">Description :</b> Un d&eacute;veloppeur a besoin d'une fonctionnalit&eacute; similaire &agrave; une autre. Au lieu de cr&eacute;er une abstraction r&eacute;utilisable, il copie-colle le bloc de code et le modifie l&eacute;g&egrave;rement.</p><p id="z7ov60w_66"><b id="z7ov60w_70">Sympt&ocirc;mes :</b> Blocs de code dupliqu&eacute;s &agrave; plusieurs endroits de l'application.</p><p id="z7ov60w_67"><b id="z7ov60w_71">Cons&eacute;quences :</b> Violation du principe <b id="z7ov60w_72">D.R.Y. (Don't Repeat Yourself)</b>. Si un bug est d&eacute;couvert dans le code original, il faut penser &agrave; le corriger dans toutes les copies. La maintenance devient un cauchemar.</p><p id="z7ov60w_68"><b id="z7ov60w_73">Rem&egrave;de :</b> Extraire le code dupliqu&eacute; dans une m&eacute;thode ou une classe commune. Utiliser des patterns comme le <b id="z7ov60w_74">Template Method</b> ou <b id="z7ov60w_75">Strategy</b> pour g&eacute;rer les variations.</p></div><div class="tabs__content" data-gtm="tab" id="z7ov60w_40" data-title="Magic Numbers / Hardcoded Strings (Nombres Magiques / Cha&icirc;nes en dur)"><p id="z7ov60w_76"><b id="z7ov60w_80">Description :</b> Utiliser des nombres ou des cha&icirc;nes de caract&egrave;res litt&eacute;rales directement dans le code, sans explication.</p><p id="z7ov60w_77"><b id="z7ov60w_81">Exemple :</b> <code class="code" id="z7ov60w_82">if (user.getStatus() == 2) { ... }</code> ou <code class="code" id="z7ov60w_83">db.connect(&quot;jdbc:mysql://192.168.1.50/prod_db&quot;)</code>.</p><p id="z7ov60w_78"><b id="z7ov60w_84">Cons&eacute;quences :</b> Le code est illisible (que signifie `2` ?). Si la valeur doit changer, il faut la chercher et la remplacer partout (risque d'oubli).</p><p id="z7ov60w_79"><b id="z7ov60w_85">Rem&egrave;de :</b> Remplacer les nombres magiques par des **constantes nomm&eacute;es** (ex: <code class="code" id="z7ov60w_86">public static final int STATUS_ACTIVE = 2;</code>) ou des **&eacute;num&eacute;rations (`enum`)**. Externaliser les cha&icirc;nes de configuration dans des **fichiers de propri&eacute;t&eacute;s**.</p></div></div></section><section class="chapter"><h3 id="anti-patterns-d-architecture" data-toc="anti-patterns-d-architecture">Anti-Patterns d'Architecture</h3><p id="z7ov60w_87">Ce sont des erreurs de conception &agrave; plus grande &eacute;chelle.</p><div class="tabs" id="z7ov60w_88" data-anchors="[z7ov60w_89,z7ov60w_90,z7ov60w_91]"><div class="tabs__content" data-gtm="tab" id="z7ov60w_89" data-title="Singletonitis (La Singleton-ite)"><p id="z7ov60w_92"><b id="z7ov60w_96">Description :</b> L'abus du pattern Singleton pour tout et n'importe quoi, souvent par paresse pour &eacute;viter de g&eacute;rer les d&eacute;pendances.</p><p id="z7ov60w_93"><b id="z7ov60w_97">Sympt&ocirc;mes :</b> Utilisation massive d'appels statiques comme <code class="code" id="z7ov60w_98">MyManager.getInstance().doSomething()</code>.</p><p id="z7ov60w_94"><b id="z7ov60w_99">Cons&eacute;quences :</b> Cr&eacute;e un &eacute;tat global cach&eacute;, rend les tests unitaires tr&egrave;s difficiles (comment mocker un appel statique ?), et cr&eacute;e un couplage fort dans toute l'application.</p><p id="z7ov60w_95"><b id="z7ov60w_100">Rem&egrave;de :</b> Le pattern <b id="z7ov60w_101">Dependency Injection (DI)</b>. Au lieu que la classe aille chercher sa d&eacute;pendance, la d&eacute;pendance lui est fournie de l'ext&eacute;rieur. C'est le c&oelig;ur des frameworks comme Spring.</p></div><div class="tabs__content" data-gtm="tab" id="z7ov60w_90" data-title="Leaky Abstraction (Abstraction qui fuit)"><p id="z7ov60w_102"><b id="z7ov60w_106">Description :</b> Une abstraction est cens&eacute;e cacher les d&eacute;tails d'impl&eacute;mentation, mais elle force l'utilisateur &agrave; conna&icirc;tre ces d&eacute;tails pour fonctionner correctement.</p><p id="z7ov60w_103"><b id="z7ov60w_107">Exemple :</b> Une m&eacute;thode <code class="code" id="z7ov60w_108">getUsers()</code> qui retourne une <code class="code" id="z7ov60w_109">List&lt;User&gt;</code>, mais si le client essaie de l'utiliser sans savoir que derri&egrave;re se cache une session Hibernate ouverte, il obtient une <code class="code" id="z7ov60w_110">LazyInitializationException</code>. L'abstraction &quot;liste d'utilisateurs&quot; a laiss&eacute; fuiter un d&eacute;tail d'impl&eacute;mentation de l'ORM.</p><p id="z7ov60w_104"><b id="z7ov60w_111">Cons&eacute;quences :</b> L'abstraction est inutile, voire dangereuse. Elle ne simplifie pas les choses et cr&eacute;e des bugs difficiles &agrave; comprendre.</p><p id="z7ov60w_105"><b id="z7ov60w_112">Rem&egrave;de :</b> Concevoir des abstractions plus robustes. Dans l'exemple, la solution serait de s'assurer que les donn&eacute;es n&eacute;cessaires sont charg&eacute;es avant de fermer la session, ou d'utiliser un <b id="z7ov60w_113">DTO</b> qui est d&eacute;connect&eacute; de la session ORM.</p></div><div class="tabs__content" data-gtm="tab" id="z7ov60w_91" data-title="Vendor Lock-In (Couplage &agrave; la Technologie)"><p id="z7ov60w_114"><b id="z7ov60w_118">Description :</b> Concevoir une application de telle mani&egrave;re qu'elle est excessivement d&eacute;pendante d'un fournisseur ou d'une technologie sp&eacute;cifique, rendant une future migration quasi impossible ou tr&egrave;s co&ucirc;teuse.</p><p id="z7ov60w_115"><b id="z7ov60w_119">Exemple :</b> Utiliser massivement des fonctionnalit&eacute;s propri&eacute;taires d'une base de donn&eacute;es Oracle au lieu du SQL standard, ou construire toute sa logique m&eacute;tier autour des fonctions sp&eacute;cifiques d'un service cloud (ex: AWS Lambda, Azure Functions).</p><p id="z7ov60w_116"><b id="z7ov60w_120">Cons&eacute;quences :</b> Perte de pouvoir de n&eacute;gociation, co&ucirc;ts &eacute;lev&eacute;s, incapacit&eacute; &agrave; adopter de meilleures technologies &agrave; l'avenir.</p><p id="z7ov60w_117"><b id="z7ov60w_121">Rem&egrave;de :</b> Utiliser des standards et des abstractions. Pr&eacute;f&eacute;rer JPA (standard) &agrave; l'API native de Hibernate. Utiliser le pattern <b id="z7ov60w_122">Adapter</b> ou <b id="z7ov60w_123">Facade</b> pour isoler le code qui interagit avec des services externes, afin de pouvoir les remplacer plus facilement.</p></div></div></section><section class="chapter"><h3 id="exercice-14-la-revue-de-code-de-l-horreur" data-toc="exercice-14-la-revue-de-code-de-l-horreur">Exercice 14 : La Revue de Code de l'Horreur</h3><p id="z7ov60w_124">Vous &ecirc;tes charg&eacute; de faire la revue de code d'un coll&egrave;gue sur une nouvelle fonctionnalit&eacute;. Voici la classe qu'il a produite. Votre mission est d'agir en tant que &quot;Quality Gate&quot; (barri&egrave;re de qualit&eacute;).</p><div class="code-block" data-lang="java">
// Classe pour traiter les commandes clients
public class OrderProcessor {

    public void processOrder(int orderId) {
        // 1. Récupération de la commande
        System.out.println(&quot;Connexion à jdbc:mysql://server1/db...&quot;);
        // ... code JDBC pour récupérer la commande avec l'id `orderId`
        // Supposons qu'on récupère un statut et un email client
        int status = 2; // Statut &quot;PAYÉE&quot;
        String clientEmail = &quot;test@test.com&quot;;

        // 2. Traitement en fonction du statut
        if (status == 1) { // 1 = &quot;CRÉÉE&quot;
            System.out.println(&quot;Commande pas encore payée.&quot;);
        } else if (status == 2) { // 2 = &quot;PAYÉE&quot;
            System.out.println(&quot;La commande est payée, préparation de l'envoi.&quot;);
            // Logique de préparation...

            // 3. Envoi d'une notification par email
            // Copié-collé d'une autre classe
            try {
                // Configuration du serveur mail
                Properties props = new Properties();
                props.put(&quot;mail.smtp.host&quot;, &quot;smtp.myprovider.com&quot;);
                // ... autres propriétés

                // Envoi...
                System.out.println(&quot;Envoi d'un email de confirmation à &quot; + clientEmail);
            } catch (Exception e) {
                // gestion d'erreur...
            }
        } else if (status == 3) { // 3 = &quot;EXPÉDIÉE&quot;
            System.out.println(&quot;Commande déjà expédiée.&quot;);
        }
    }
}
</div><p id="z7ov60w_126"><span class="control" id="z7ov60w_127">Votre mission :</span> Identifiez au moins 4 anti-patterns dans ce code. Pour chacun, nommez-le, expliquez pourquoi c'est un probl&egrave;me, et proposez le rem&egrave;de appropri&eacute;.</p></section><section class="chapter"><h3 id="correction-exercice-14-collapsible-true" data-toc="correction-exercice-14-collapsible-true">Correction exercice 14 {collapsible='true''}</h3><p id="z7ov60w_128">Excellent travail de d&eacute;tective ! Cette classe est un v&eacute;ritable cas d'&eacute;cole. Voici une analyse possible :</p><ol class="list _decimal" id="z7ov60w_129" type="1"><li class="list__item" id="z7ov60w_131"><p id="z7ov60w_135"><span class="control" id="z7ov60w_137">Anti-Pattern :</span> <span class="control" id="z7ov60w_138">God Method / Violation du SRP</span>.</p><ul class="list _bullet" id="z7ov60w_136"><li class="list__item" id="z7ov60w_139"><p id="z7ov60w_141"><span class="control" id="z7ov60w_142">Probl&egrave;me :</span> La m&eacute;thode <code class="code" id="z7ov60w_143">processOrder</code> fait tout : elle se connecte &agrave; la base de donn&eacute;es, elle contient la logique m&eacute;tier de traitement de la commande, et elle g&egrave;re l'envoi de notifications par email. C'est beaucoup trop de responsabilit&eacute;s.</p></li><li class="list__item" id="z7ov60w_140"><p id="z7ov60w_144"><span class="control" id="z7ov60w_145">Rem&egrave;de :</span> D&eacute;composer la m&eacute;thode en plusieurs classes/services distincts, inject&eacute;s via **Dependency Injection ** : un <code class="code" id="z7ov60w_146">OrderRepository</code> pour l'acc&egrave;s aux donn&eacute;es, un <code class="code" id="z7ov60w_147">OrderProcessingService</code> pour la logique m&eacute;tier, et un <code class="code" id="z7ov60w_148">NotificationService</code> pour les emails.</p></li></ul></li><li class="list__item" id="z7ov60w_132"><p id="z7ov60w_149"><span class="control" id="z7ov60w_151">Anti-Pattern :</span> <span class="control" id="z7ov60w_152">Magic Numbers (Nombres Magiques)</span>.</p><ul class="list _bullet" id="z7ov60w_150"><li class="list__item" id="z7ov60w_153"><p id="z7ov60w_155"><span class="control" id="z7ov60w_156">Probl&egrave;me :</span> Le code est rempli de <code class="code" id="z7ov60w_157">if (status == 1)</code>, <code class="code" id="z7ov60w_158">if (status == 2)</code>. Un nouveau d&eacute;veloppeur (ou m&ecirc;me vous dans 6 mois) n'aura aucune id&eacute;e de ce que ces chiffres signifient sans chercher dans la documentation ou la base de donn&eacute;es.</p></li><li class="list__item" id="z7ov60w_154"><p id="z7ov60w_159"><span class="control" id="z7ov60w_160">Rem&egrave;de :</span> Utiliser une <span class="control" id="z7ov60w_161">&eacute;num&eacute;ration (<code class="code" id="z7ov60w_164">enum</code>)</span> <code class="code" id="z7ov60w_162">OrderStatus { CREATED, PAID, SHIPPED }</code>. Le code deviendrait alors <code class="code" id="z7ov60w_163">if (status == OrderStatus.PAID)</code>, ce qui est infiniment plus lisible et s&ucirc;r.</p></li></ul></li><li class="list__item" id="z7ov60w_133"><p id="z7ov60w_165"><span class="control" id="z7ov60w_167">Anti-Pattern :</span> <span class="control" id="z7ov60w_168">Hardcoded Strings (Cha&icirc;nes en dur)</span>.</p><ul class="list _bullet" id="z7ov60w_166"><li class="list__item" id="z7ov60w_169"><p id="z7ov60w_171"><span class="control" id="z7ov60w_172">Probl&egrave;me :</span> La cha&icirc;ne de connexion JDBC (<code class="code" id="z7ov60w_173">&quot;jdbc:mysql://server1/db...&quot;</code>) et la configuration du serveur SMTP (<code class="code" id="z7ov60w_174">&quot;smtp.myprovider.com&quot;</code>) sont &eacute;crites directement dans le code. Si le serveur change, il faut recompiler et red&eacute;ployer l'application. C'est une catastrophe en termes de maintenance.</p></li><li class="list__item" id="z7ov60w_170"><p id="z7ov60w_175"><span class="control" id="z7ov60w_176">Rem&egrave;de :</span> Externaliser ces valeurs dans un <span class="control" id="z7ov60w_177">fichier de configuration</span> (ex: <code class="code" id="z7ov60w_178">application.properties</code> dans Spring) et les injecter dans les beans appropri&eacute;s.</p></li></ul></li><li class="list__item" id="z7ov60w_134"><p id="z7ov60w_179"><span class="control" id="z7ov60w_181">Anti-Pattern :</span> <span class="control" id="z7ov60w_182">Copy-Paste Programming</span>.</p><ul class="list _bullet" id="z7ov60w_180"><li class="list__item" id="z7ov60w_183"><p id="z7ov60w_185"><span class="control" id="z7ov60w_186">Probl&egrave;me :</span> Le commentaire indique que la logique d'envoi d'email a &eacute;t&eacute; copi&eacute;e d'une autre classe. Si la configuration du serveur SMTP change ou si un bug est trouv&eacute; dans ce bloc, il y a un risque &eacute;lev&eacute; qu'on oublie de le corriger dans l'un des deux endroits.</p></li><li class="list__item" id="z7ov60w_184"><p id="z7ov60w_187"><span class="control" id="z7ov60w_188">Rem&egrave;de :</span> Appliquer le principe <span class="control" id="z7ov60w_189">D.R.Y.</span> en cr&eacute;ant une classe <code class="code" id="z7ov60w_190">NotificationService</code> (ou <code class="code" id="z7ov60w_191">EmailService</code>) centralis&eacute;e, qui contiendra cette logique une seule et unique fois. Les autres classes utiliseront ce service.</p></li></ul></li></ol><p id="z7ov60w_130">En appliquant ces corrections, on transformerait ce code fragile et opaque en une structure modulaire, lisible et maintenable, typique d'une application professionnelle.</p></section></section><section class="chapter"><h2 id="auto-valuation" data-toc="auto-valuation">Auto-&eacute;valuation</h2><p id="z7ov60w_192">Testez votre capacit&eacute; &agrave; rep&eacute;rer les mauvaises odeurs de code.</p><p id="z7ov60w_193"><span class="control" id="z7ov60w_197">Questions &agrave; Choix Multiple (QCM)</span></p><ol class="list _decimal" id="z7ov60w_194" type="1"><li class="list__item" id="z7ov60w_198"><p id="z7ov60w_202">Votre coll&egrave;gue a &eacute;crit une classe <code class="code" id="z7ov60w_204">Utils</code> de 5000 lignes avec 200 m&eacute;thodes statiques qui manipulent des cha&icirc;nes, des dates, des fichiers et font des appels API. C'est un exemple flagrant de :</p><ul class="list _bullet" id="z7ov60w_203"><li class="list__item" id="z7ov60w_205"><p id="z7ov60w_209">a) Spaghetti Code</p></li><li class="list__item" id="z7ov60w_206"><p id="z7ov60w_210">b) God Object</p></li><li class="list__item" id="z7ov60w_207"><p id="z7ov60w_211">c) Leaky Abstraction</p></li><li class="list__item" id="z7ov60w_208"><p id="z7ov60w_212">d) Vendor Lock-In</p></li></ul></li><li class="list__item" id="z7ov60w_199"><p id="z7ov60w_213">Le principe &quot;Don't Repeat Yourself&quot; (D.R.Y.) est le rem&egrave;de direct &agrave; quel anti-pattern ?</p><ul class="list _bullet" id="z7ov60w_214"><li class="list__item" id="z7ov60w_215"><p id="z7ov60w_219">a) Magic Numbers</p></li><li class="list__item" id="z7ov60w_216"><p id="z7ov60w_220">b) Singletonitis</p></li><li class="list__item" id="z7ov60w_217"><p id="z7ov60w_221">c) Copy-Paste Programming</p></li><li class="list__item" id="z7ov60w_218"><p id="z7ov60w_222">d) God Object</p></li></ul></li><li class="list__item" id="z7ov60w_200"><p id="z7ov60w_223">L'utilisation intensive de <code class="code" id="z7ov60w_225">MyService.getInstance()</code> au lieu de l'injection de d&eacute;pendances est un sympt&ocirc;me de :</p><ul class="list _bullet" id="z7ov60w_224"><li class="list__item" id="z7ov60w_226"><p id="z7ov60w_230">a) Leaky Abstraction</p></li><li class="list__item" id="z7ov60w_227"><p id="z7ov60w_231">b) Spaghetti Code</p></li><li class="list__item" id="z7ov60w_228"><p id="z7ov60w_232">c) Vendor Lock-In</p></li><li class="list__item" id="z7ov60w_229"><p id="z7ov60w_233">d) Singletonitis</p></li></ul></li><li class="list__item" id="z7ov60w_201"><p id="z7ov60w_234">Vous utilisez un ORM, mais vous &ecirc;tes oblig&eacute; de g&eacute;rer manuellement l'ouverture et la fermeture des transactions dans votre couche m&eacute;tier, sinon vous obtenez des exceptions. C'est un exemple de :</p><ul class="list _bullet" id="z7ov60w_235"><li class="list__item" id="z7ov60w_236"><p id="z7ov60w_240">a) God Object</p></li><li class="list__item" id="z7ov60w_237"><p id="z7ov60w_241">b) Leaky Abstraction</p></li><li class="list__item" id="z7ov60w_238"><p id="z7ov60w_242">c) Magic Numbers</p></li><li class="list__item" id="z7ov60w_239"><p id="z7ov60w_243">d) Copy-Paste Programming</p></li></ul></li></ol><p id="z7ov60w_195"><span class="control" id="z7ov60w_244">Questions Ouvertes</span></p><ol class="list _decimal" id="z7ov60w_196" type="1" start="5"><li class="list__item" id="z7ov60w_245"><p id="z7ov60w_247">Expliquez pourquoi un &quot;God Object&quot; est si difficile &agrave; tester unitairement.</p></li><li class="list__item" id="z7ov60w_246"><p id="z7ov60w_248">Donnez un exemple simple de &quot;Magic Number&quot; que vous pourriez rencontrer dans une application de e-commerce, et comment vous le corrigeriez.</p></li></ol></section><section class="chapter"><h2 id="conclusion" data-toc="conclusion">Conclusion</h2><p id="z7ov60w_249">F&eacute;licitations ! Vous &ecirc;tes maintenant non seulement un constructeur, mais aussi un inspecteur en b&acirc;timent. Vous savez reconna&icirc;tre les fondations solides (les Design Patterns) et les murs fissur&eacute;s (les Anti-Patterns).</p><p id="z7ov60w_250">Cette comp&eacute;tence est l'une des plus pr&eacute;cieuses pour un concepteur. Elle vous permettra de :</p><ul class="list _bullet" id="z7ov60w_251"><li class="list__item" id="z7ov60w_254"><p id="z7ov60w_258"><span class="control" id="z7ov60w_259">&Eacute;crire du code propre</span> d&egrave;s le d&eacute;part.</p></li><li class="list__item" id="z7ov60w_255"><p id="z7ov60w_260"><span class="control" id="z7ov60w_261">Argumenter de mani&egrave;re constructive</span> lors des revues de code.</p></li><li class="list__item" id="z7ov60w_256"><p id="z7ov60w_262"><span class="control" id="z7ov60w_263">Estimer la &quot;dette technique&quot;</span> d'un projet existant.</p></li><li class="list__item" id="z7ov60w_257"><p id="z7ov60w_264"><span class="control" id="z7ov60w_265">Planifier des refactorings</span> efficaces pour am&eacute;liorer la sant&eacute; d'une application.</p></li></ul><p id="z7ov60w_252">Le chemin vers la ma&icirc;trise de la conception logicielle est un apprentissage continu. Gardez l'esprit ouvert, restez critique envers votre propre code, et n'oubliez jamais que le d&eacute;veloppeur qui lira votre code demain (qui sera souvent une version future de vous-m&ecirc;me) vous remerciera pour votre clart&eacute; et votre rigueur.</p><section class="chapter"><h3 id="corrections-de-l-auto-valuation-anti-patterns" data-toc="corrections-de-l-auto-valuation-anti-patterns">Corrections de l'auto-&eacute;valuation (Anti-Patterns)</h3><ol class="list _decimal" id="z7ov60w_266" type="1"><li class="list__item" id="z7ov60w_267"><p id="z7ov60w_273">b)</p></li><li class="list__item" id="z7ov60w_268"><p id="z7ov60w_274">c)</p></li><li class="list__item" id="z7ov60w_269"><p id="z7ov60w_275">d)</p></li><li class="list__item" id="z7ov60w_270"><p id="z7ov60w_276">b)</p></li><li class="list__item" id="z7ov60w_271"><p id="z7ov60w_277"><span class="control" id="z7ov60w_278">Test d'un God Object :</span> Pour tester unitairement une m&eacute;thode d'un God Object, il faut initialiser l'objet. Comme il a des dizaines de d&eacute;pendances, il faut cr&eacute;er et configurer des &quot;mocks&quot; pour chacune d'entre elles, ce qui est extr&ecirc;mement lourd. De plus, comme la classe a un &eacute;tat interne &eacute;norme et complexe, l'ex&eacute;cution d'une m&eacute;thode peut avoir des effets de bord sur d'autres parties de l'objet, rendant le test d'une seule unit&eacute; de comportement presque impossible.</p></li><li class="list__item" id="z7ov60w_272"><p id="z7ov60w_279"><span class="control" id="z7ov60w_280">Exemple de Magic Number :</span> Dans une boucle qui traite les articles d'un panier, on pourrait voir <code class="code" id="z7ov60w_281">finalPrice += price * 0.20;</code>. Le <code class="code" id="z7ov60w_282">0.20</code> est un nombre magique. Que repr&eacute;sente-t-il ? La TVA ? Une taxe sp&eacute;ciale ? * <span class="emphasis" id="z7ov60w_283">Correction :</span>* Cr&eacute;er une constante nomm&eacute;e <code class="code" id="z7ov60w_284">private static final double VAT_RATE = 0.20;</code>. Le code devient <code class="code" id="z7ov60w_285">finalPrice += price * VAT_RATE;</code>, ce qui est auto-document&eacute;. Mieux encore, cette valeur devrait probablement venir d'un fichier de configuration ou d'une base de donn&eacute;es.</p></li></ol></section></section><div class="last-modified">25 juillet 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="008-00-architecture-patterns.html" class="navigation-links__prev">Hors-S&eacute;rie : Les Grands Patterns d'Architecture</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>