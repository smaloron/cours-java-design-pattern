<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-28T16:55:43.818635"><title>Les Patterns de Structure : L'Art d'Assembler les Objets | Java-design-pattern</title><script type="application/json" id="virtual-toc-data">[{"id":"objectifs-p-dagogiques","level":0,"title":"Objectifs Pédagogiques","anchor":"#objectifs-p-dagogiques"},{"id":"introduction-des-briques-aux-murs","level":0,"title":"Introduction : Des Briques aux Murs","anchor":"#introduction-des-briques-aux-murs"},{"id":"l-essentiel-les-piliers-de-l-architecture","level":0,"title":"L\u0027essentiel : Les Piliers de l\u0027Architecture","anchor":"#l-essentiel-les-piliers-de-l-architecture"},{"id":"pour-aller-plus-loin","level":0,"title":"Pour aller plus loin","anchor":"#pour-aller-plus-loin"},{"id":"auto-valuation","level":0,"title":"Auto-évaluation","anchor":"#auto-valuation"},{"id":"conclusion","level":0,"title":"Conclusion","anchor":"#conclusion"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Les Patterns de Structure : L'Art d'Assembler les Objets | Java-design-pattern"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Java-design-pattern Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/003-00-structural-patterns.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Les Patterns de Structure : L'Art d'Assembler les Objets | Java-design-pattern"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/003-00-structural-patterns.html#webpage",
    "url": "writerside-documentation/003-00-structural-patterns.html",
    "name": "Les Patterns de Structure : L'Art d'Assembler les Objets | Java-design-pattern",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Java-design-pattern Help"
}</script><!-- End Schema.org --></head><body data-id="003-00-structural-patterns" data-main-title="Les Patterns de Structure : L'Art d'Assembler les Objets" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Java-design-pattern  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="003-00-structural-patterns" id="003-00-structural-patterns.md">Les Patterns de Structure : L'Art d'Assembler les Objets</h1><section class="chapter"><h2 id="objectifs-p-dagogiques" data-toc="objectifs-p-dagogiques">Objectifs P&eacute;dagogiques</h2><p id="-plm0p7_9">&Agrave; la fin de ce module, vous serez capable de :</p><ul class="list _bullet" id="-plm0p7_10"><li class="list__item" id="-plm0p7_11"><p id="-plm0p7_17"><span class="control" id="-plm0p7_18">D&eacute;crire</span> comment les patterns de structure simplifient les relations entre les entit&eacute;s.</p></li><li class="list__item" id="-plm0p7_12"><p id="-plm0p7_19"><span class="control" id="-plm0p7_20">Impl&eacute;menter</span> en Java les patterns Adapter, Decorator et Facade.</p></li><li class="list__item" id="-plm0p7_13"><p id="-plm0p7_21"><span class="control" id="-plm0p7_22">Utiliser</span> un Adapter pour faire collaborer des classes aux interfaces incompatibles.</p></li><li class="list__item" id="-plm0p7_14"><p id="-plm0p7_23"><span class="control" id="-plm0p7_24">Ajouter</span> des fonctionnalit&eacute;s &agrave; un objet dynamiquement avec un Decorator.</p></li><li class="list__item" id="-plm0p7_15"><p id="-plm0p7_25"><span class="control" id="-plm0p7_26">Simplifier</span> l'interface d'un sous-syst&egrave;me complexe avec une Facade.</p></li><li class="list__item" id="-plm0p7_16"><p id="-plm0p7_27"><span class="control" id="-plm0p7_28">Choisir</span> le pattern de structure ad&eacute;quat pour r&eacute;soudre des probl&egrave;mes de couplage et de complexit&eacute;.</p></li></ul></section><section class="chapter"><h2 id="introduction-des-briques-aux-murs" data-toc="introduction-des-briques-aux-murs">Introduction : Des Briques aux Murs</h2><p id="-plm0p7_29">Dans le module pr&eacute;c&eacute;dent, nous avons appris &agrave; fabriquer nos briques (nos objets) de la meilleure fa&ccedil;on possible. Mais une pile de briques ne fait pas une maison. Il faut maintenant les assembler, cr&eacute;er des murs, des portes, des fen&ecirc;tres, pour former une structure coh&eacute;rente et fonctionnelle.</p><p id="-plm0p7_30">C'est pr&eacute;cis&eacute;ment le r&ocirc;le des <span class="control" id="-plm0p7_32">Patterns de Structure</span>. Ils s'int&eacute;ressent &agrave; la **composition des classes et des objets **. Comment les faire travailler ensemble ? Comment simplifier leurs relations ? Comment ajouter des fonctionnalit&eacute;s sans tout casser ?</p><p id="-plm0p7_31">Ces patterns sont les principes d'architecture qui transforment un ensemble de classes disjointes en un syst&egrave;me robuste et &eacute;l&eacute;gant. Vous allez apprendre &agrave; cr&eacute;er des &quot;traducteurs&quot;, &agrave; &quot;d&eacute;corer&quot; vos objets &agrave; la vol&eacute;e, et &agrave; cacher la complexit&eacute; derri&egrave;re des &quot;fa&ccedil;ades&quot; simples.</p></section><section class="chapter"><h2 id="l-essentiel-les-piliers-de-l-architecture" data-toc="l-essentiel-les-piliers-de-l-architecture">L'essentiel : Les Piliers de l'Architecture</h2><section class="chapter"><h3 id="le-pattern-adapter-adaptateur" data-toc="le-pattern-adapter-adaptateur">Le Pattern Adapter (Adaptateur)</h3><section class="chapter"><h4 id="l-intention" data-toc="l-intention">L'intention</h4><p id="-plm0p7_43"><span class="control" id="-plm0p7_45">Convertir l'interface d'une classe en une autre interface attendue par le client.</span> L'Adapter permet &agrave; des classes de collaborer alors qu'elles ont des interfaces incompatibles.</p><p id="-plm0p7_44">C'est votre adaptateur de prise &eacute;lectrique universel. Vous &ecirc;tes en Angleterre avec votre chargeur fran&ccedil;ais (interface incompatible). Vous n'allez pas acheter un nouveau chargeur (modifier le code existant). Vous utilisez un adaptateur qui fait le pont entre la prise murale anglaise et votre prise fran&ccedil;aise.</p></section><section class="chapter"><h4 id="structure-et-impl-mentation" data-toc="structure-et-impl-mentation">Structure et Impl&eacute;mentation</h4><section class="chapter"><h5 id="diagramme-uml" data-toc="diagramme-uml">Diagramme UML</h5><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="306px" preserveAspectRatio="none" style="width:1408px;height:306px;background:#FFFFFF;" version="1.1" viewBox="0 0 1408 306" width="1408px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="224" x="585" y="23.5352">Diagramme du Pattern Adapter</text><!--class Client--><g id="elem_Client"><rect codeLine="5" fill="#F1F1F1" height="64.4883" id="Client" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="326.5" y="44.4883"/><ellipse cx="363.1" cy="60.4883" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M366.0731,66.1313 Q365.4921,66.4302 364.8529,66.5796 Q364.2138,66.729 363.5082,66.729 Q361.0014,66.729 359.6815,65.0771 Q358.3617,63.4253 358.3617,60.3042 Q358.3617,57.1748 359.6815,55.5229 Q361.0014,53.8711 363.5082,53.8711 Q364.2138,53.8711 364.8612,54.0205 Q365.5087,54.1699 366.0731,54.4688 L366.0731,57.1914 Q365.4423,56.6104 364.8488,56.3406 Q364.2553,56.0708 363.6244,56.0708 Q362.2797,56.0708 361.5949,57.1375 Q360.9101,58.2041 360.9101,60.3042 Q360.9101,62.396 361.5949,63.4626 Q362.2797,64.5293 363.6244,64.5293 Q364.2553,64.5293 364.8488,64.2595 Q365.4423,63.9897 366.0731,63.4087 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="381.9" y="65.7793">Client</text><line style="stroke:#181818;stroke-width:0.5;" x1="327.5" x2="445.5" y1="76.4883" y2="76.4883"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="334.5" y="87.2324"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="346.5" y="94.0234">target: Target</text><line style="stroke:#181818;stroke-width:0.5;" x1="327.5" x2="445.5" y1="100.9766" y2="100.9766"/></g><g id="elem_GMN3"><path d="M6,67.5683 L6,85.8788 A3.5,3.5 0 0 0 9.5,89.3788 L287.5,89.3788 A3.5,3.5 0 0 0 291,85.8788 L291,82.0683 L326.2,76.7283 L291,74.0683 L291,74.0683 L281,64.0683 L9.5,64.0683 A3.5,3.5 0 0 0 6,67.5683 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M281,64.0683 L281,72.3183 A1.75,1.75 0 0 0 282.75,74.0683 L291,74.0683 L281,64.0683 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264" x="12" y="81.6366">Le client ne conna&#238;t que l'interface Target.</text></g><!--class Target--><g id="elem_Target"><rect codeLine="11" fill="#F1F1F1" height="64.4883" id="Target" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="482" y="44.4883"/><ellipse cx="518.6" cy="60.4883" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M514.5277,56.2534 L514.5277,54.0952 L521.9071,54.0952 L521.9071,56.2534 L519.4418,56.2534 L519.4418,64.3301 L521.9071,64.3301 L521.9071,66.4883 L514.5277,66.4883 L514.5277,64.3301 L516.9931,64.3301 L516.9931,56.2534 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="45" x="537.4" y="65.7793">Target</text><line style="stroke:#181818;stroke-width:0.5;" x1="483" x2="606" y1="76.4883" y2="76.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="483" x2="606" y1="84.4883" y2="84.4883"/><ellipse cx="493" cy="98.2324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="502" y="102.0234">request(): void</text></g><!--class Adapter--><g id="elem_Adapter"><rect codeLine="16" fill="#F1F1F1" height="80.9766" id="Adapter" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="146" x="705.5" y="218.9683"/><ellipse cx="747.05" cy="234.9683" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M750.0231,240.6113 Q749.4421,240.9102 748.8029,241.0596 Q748.1638,241.209 747.4582,241.209 Q744.9514,241.209 743.6315,239.5571 Q742.3117,237.9053 742.3117,234.7842 Q742.3117,231.6548 743.6315,230.0029 Q744.9514,228.3511 747.4582,228.3511 Q748.1638,228.3511 748.8112,228.5005 Q749.4587,228.6499 750.0231,228.9488 L750.0231,231.6714 Q749.3923,231.0904 748.7988,230.8206 Q748.2053,230.5508 747.5744,230.5508 Q746.2297,230.5508 745.5449,231.6175 Q744.8601,232.6841 744.8601,234.7842 Q744.8601,236.876 745.5449,237.9426 Q746.2297,239.0093 747.5744,239.0093 Q748.2053,239.0093 748.7988,238.7395 Q749.3923,238.4697 750.0231,237.8887 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="766.95" y="240.2593">Adapter</text><line style="stroke:#181818;stroke-width:0.5;" x1="706.5" x2="850.5" y1="250.9683" y2="250.9683"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="713.5" y="261.7124"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="725.5" y="268.5034">adaptee: Adaptee</text><line style="stroke:#181818;stroke-width:0.5;" x1="706.5" x2="850.5" y1="275.4566" y2="275.4566"/><ellipse cx="716.5" cy="289.2007" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="725.5" y="292.9917">request(): void</text></g><!--class Adaptee--><g id="elem_Adaptee"><rect codeLine="24" fill="#F1F1F1" height="64.4883" id="Adaptee" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="982" y="227.2183"/><ellipse cx="1038.75" cy="243.2183" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1041.7231,248.8613 Q1041.1421,249.1602 1040.5029,249.3096 Q1039.8638,249.459 1039.1582,249.459 Q1036.6514,249.459 1035.3315,247.8071 Q1034.0117,246.1553 1034.0117,243.0342 Q1034.0117,239.9048 1035.3315,238.2529 Q1036.6514,236.6011 1039.1582,236.6011 Q1039.8638,236.6011 1040.5112,236.7505 Q1041.1587,236.8999 1041.7231,237.1988 L1041.7231,239.9214 Q1041.0923,239.3404 1040.4988,239.0706 Q1039.9053,238.8008 1039.2744,238.8008 Q1037.9297,238.8008 1037.2449,239.8675 Q1036.5601,240.9341 1036.5601,243.0342 Q1036.5601,245.126 1037.2449,246.1926 Q1037.9297,247.2593 1039.2744,247.2593 Q1039.9053,247.2593 1040.4988,246.9895 Q1041.0923,246.7197 1041.7231,246.1387 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="1059.25" y="248.5093">Adaptee</text><line style="stroke:#181818;stroke-width:0.5;" x1="983" x2="1160" y1="259.2183" y2="259.2183"/><line style="stroke:#181818;stroke-width:0.5;" x1="983" x2="1160" y1="267.2183" y2="267.2183"/><ellipse cx="993" cy="280.9624" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="1002" y="284.7534">specificRequest(): void</text></g><g id="elem_GMN10"><path d="M1196,242.6483 L1196,255.4583 L1161.06,259.4583 L1196,263.4583 L1196,276.2694 A3.5,3.5 0 0 0 1199.5,279.7694 L1397.5,279.7694 A3.5,3.5 0 0 0 1401,276.2694 L1401,249.1483 L1391,239.1483 L1199.5,239.1483 A3.5,3.5 0 0 0 1196,242.6483 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M1391,239.1483 L1391,247.3983 A1.75,1.75 0 0 0 1392.75,249.1483 L1401,249.1483 L1391,239.1483 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="1202" y="256.7166">C'est la classe existante</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="1202" y="272.0272">avec l'interface incompatible.</text></g><g id="elem_GMN16"><path d="M664.5,52.2583 L664.5,101.1899 A3.5,3.5 0 0 0 668,104.6899 L971,104.6899 A3.5,3.5 0 0 0 974.5,101.1899 L974.5,58.7583 L964.5,48.7583 L668,48.7583 A3.5,3.5 0 0 0 664.5,52.2583 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M964.5,48.7583 L964.5,57.0083 A1.75,1.75 0 0 0 966.25,58.7583 L974.5,58.7583 L964.5,48.7583 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.0;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="670.5" y="66.3266">Dans sa m&#233;thode `request()`,</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="670.5" y="81.6372">l'Adapter appelle `adaptee.specificRequest()`,</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="670.5" y="96.9477">faisant ainsi la "traduction".</text></g><!--reverse link Target to Adapter--><g id="link_Target_Adapter"><path d="M515.8672,125.4234 C503.3172,149.4534 500.99,166.1583 518.5,188.9683 C541.19,218.5283 636.54,238.2283 705.19,248.8783 " fill="none" id="Target-backto-Adapter" style="stroke:#454645;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="524.2,109.4683,510.5489,122.6458,521.1856,128.201,524.2,109.4683" style="stroke:#454645;stroke-width:1.0;"/><path d="M523.5,147.4683 L523.5,180.4683 A3.5,3.5 0 0 0 527,183.9683 L744,183.9683 A3.5,3.5 0 0 0 747.5,180.4683 L747.5,153.9683 L737.5,143.9683 L527,143.9683 A3.5,3.5 0 0 0 523.5,147.4683 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M737.5,143.9683 L737.5,152.2183 A1.75,1.75 0 0 0 739.25,153.9683 L747.5,153.9683 L737.5,143.9683 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="529.5" y="161.5366">L'Adapter impl&#233;mente l'interface</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="529.5" y="176.8472">attendue par le client.</text></g><!--link Adapter to Target--><g id="link_Adapter_Target"><path codeLine="31" d="M781.33,218.5183 C780.95,192.7283 775.98,160.1683 756.5,138.9683 C722.21,101.6683 695.18,123.0583 646.5,108.9683 C633.78,105.2883 637.4317,106.4639 624.4717,102.5239 " fill="none" id="Adapter-to-Target" style="stroke:#454645;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="607.25,97.2883,622.7265,108.2645,626.2169,96.7833,607.25,97.2883" style="stroke:#454645;stroke-width:1.0;"/></g><!--link Client to Target--><g id="link_Client_Target"><path codeLine="30" d="M446.98,76.7283 C458.54,76.7283 464.09,76.7283 475.65,76.7283 " fill="none" id="Client-to-Target" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="481.65,76.7283,472.65,72.7283,476.65,76.7283,472.65,80.7283,481.65,76.7283" style="stroke:#454645;stroke-width:1.0;"/></g><!--link Adapter to Adaptee--><g id="link_Adapter_Adaptee"><path codeLine="32" d="M851.68,259.4583 C891.09,259.4583 934.04,259.4583 975.73,259.4583 " fill="none" id="Adapter-to-Adaptee" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="981.73,259.4583,972.73,255.4583,976.73,259.4583,972.73,263.4583,981.73,259.4583" style="stroke:#454645;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="869.75" y="253.0266">d&#233;l&#232;gue l'appel</text></g><!--link GMN16 to Adapter--><g id="link_GMN16_Adapter"><path d="M814.7,104.8183 C810.57,127.4183 804.22,160.4183 797.5,188.9683 C795.24,198.5883 792.56,208.8883 789.94,218.5283 " fill="none" id="GMN16-Adapter" style="stroke:#454645;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--SRC=[TL6zJiD03DxlAKoMWg1vW0v8g1qP469ag9iugSN55t9kXGIy3rruYRmOJffKBLM7A2V_V7- -qZLL15jUDIZgbDKJ90l6ii7A6la6db2L6e6776jx9Cvb7cE4kMSIXK_dfg3ObAGpUEd_3k3RFWbAuAcm-YD1jXyNUmKHR7yLtZVMdx0OQe4P3TkfS_zB7SajD6GBKQzlPh0DdFSiWvP16t1LU_CZ6eysfu1zcsR375r26pG70S_oPh8dny3jhaC-aVmgNJYIcv4Q6pCxs4nFXT7UGAmfuuApvylK3PThosi-iJvuX1w5W3uugXse8znITf8QInQg6fLNdentEClqVZp6Q25DlyvgDZKgd47UxdpxK_P7mRecxrolIKCDeHWpTWkK216XQdUw3Zd1yX3byixvGsGzX2Mo7D9Fp-pRU84SpHSWI-JESA8DvfjCEKYIEekspyNz0G00]--></g></svg></div></section><section class="chapter"><h5 id="exemple-adapter-un-ancien-service-de-donn-es" data-toc="exemple-adapter-un-ancien-service-de-donn-es">Exemple : Adapter un ancien service de donn&eacute;es</h5><p id="-plm0p7_49">Imaginons que notre application de biblioth&egrave;que doive s'interfacer avec un ancien syst&egrave;me qui fournit les donn&eacute;es d'un livre sous un format &eacute;trange : une <code class="code" id="-plm0p7_58">Map&lt;String, String&gt;</code>. Notre application, elle, s'attend &agrave; manipuler un <code class="code" id="-plm0p7_59">BookDTO</code>.</p><ol class="list _decimal" id="-plm0p7_50" type="1"><li class="list__item" id="-plm0p7_60"><p id="-plm0p7_61"><span class="control" id="-plm0p7_62">L'interface cible (Target)</span>: Ce que notre syst&egrave;me attend.</p></li></ol><div class="code-block" data-lang="java">
package fr.formation.spring.app.adapter;

// Notre DTO moderne
public class BookDTO {
    private String title;
    private String authorName;
    // Getters et Setters...
}
</div><p id="-plm0p7_52">Nous n'avons pas d'interface <code class="code" id="-plm0p7_63">Target</code> formelle, mais on peut dire que notre client attend un <code class="code" id="-plm0p7_64">BookDTO</code>.</p><ol class="list _decimal" id="-plm0p7_53" type="1" start="2"><li class="list__item" id="-plm0p7_65"><p id="-plm0p7_66"><span class="control" id="-plm0p7_67">La classe &agrave; adapter (Adaptee)</span>: Le service h&eacute;rit&eacute;.</p></li></ol><div class="code-block" data-lang="java">
package fr.formation.spring.app.adapter;

import java.util.Map;
import java.util.HashMap;

// Le service existant avec son interface &quot;incompatible&quot;
public class LegacyBookProvider {
    public Map&lt;String, String&gt; fetchBookData(long id) {
        // Simule un appel à un vieux système
        Map&lt;String, String&gt; bookData = new HashMap&lt;&gt;();
        bookData.put(&quot;bookTitle&quot;, &quot;1984&quot;);
        bookData.put(&quot;writer&quot;, &quot;George Orwell&quot;);
        return bookData;
    }
}
</div><ol class="list _decimal" id="-plm0p7_55" type="1" start="3"><li class="list__item" id="-plm0p7_68"><p id="-plm0p7_69"><span class="control" id="-plm0p7_70">L'adaptateur (Adapter)</span></p></li></ol><div class="code-block" data-lang="java">
package fr.formation.spring.app.adapter;

import java.util.Map;

public class BookServiceAdapter {
    private final LegacyBookProvider legacyProvider = new LegacyBookProvider();

    // La méthode de l'adapter qui correspond à ce que le client veut
    public BookDTO getBook(long id) {
        // 1. Appeler l'ancien système
        Map&lt;String, String&gt; legacyData = legacyProvider.fetchBookData(id);

        // 2. &quot;Traduire&quot; les données
        BookDTO dto = new BookDTO();
        dto.setTitle(legacyData.get(&quot;bookTitle&quot;));
        dto.setAuthorName(legacyData.get(&quot;writer&quot;));

        // 3. Retourner l'objet attendu par le client
        return dto;
    }
}
</div><p id="-plm0p7_57">Le client n'a plus besoin de conna&icirc;tre l'existence de <code class="code" id="-plm0p7_71">LegacyBookProvider</code> ni de son format de donn&eacute;es &eacute;trange. Il appelle simplement <code class="code" id="-plm0p7_72">bookServiceAdapter.getBook(id)</code> et obtient ce qu'il attend.</p></section></section><section class="chapter"><h4 id="cas-d-utilisation-et-bonnes-pratiques" data-toc="cas-d-utilisation-et-bonnes-pratiques">Cas d'utilisation et Bonnes Pratiques</h4><ul class="list _bullet" id="-plm0p7_73"><li class="list__item" id="-plm0p7_74"><p id="-plm0p7_77"><span class="control" id="-plm0p7_78">Quand l'utiliser ?</span> Quand vous devez int&eacute;grer une librairie ou un composant externe dont l'interface ne correspond pas &agrave; celle requise par votre application.</p></li><li class="list__item" id="-plm0p7_75"><p id="-plm0p7_79"><span class="control" id="-plm0p7_80">Exemples connus :</span> <code class="code" id="-plm0p7_81">Arrays.asList()</code> adapte un tableau en une <code class="code" id="-plm0p7_82">List</code>. <code class="code" id="-plm0p7_83">InputStreamReader</code> adapte un <code class="code" id="-plm0p7_84">InputStream</code> ( binaire) en <code class="code" id="-plm0p7_85">Reader</code> (caract&egrave;res).</p></li><li class="list__item" id="-plm0p7_76"><p id="-plm0p7_86">L'Adapter est un pattern de <span class="control" id="-plm0p7_87">refactoring</span> tr&egrave;s puissant pour int&eacute;grer du code legacy sans le modifier.</p></li></ul></section></section><section class="chapter"><h3 id="exercice-5-adapter-un-service-de-taux-de-change" data-toc="exercice-5-adapter-un-service-de-taux-de-change">Exercice 5 : Adapter un service de taux de change</h3><p id="-plm0p7_88">Dans notre biblioth&egrave;que, nous voulons afficher le prix des livres en euros. Nous avons un service externe qui nous donne les taux de change, mais il retourne le r&eacute;sultat en XML. Notre application, elle, pr&eacute;f&egrave;re manipuler du JSON ou des objets simples.</p><p id="-plm0p7_89"><span class="control" id="-plm0p7_91">Cahier des charges :</span></p><ol class="list _decimal" id="-plm0p7_90" type="1"><li class="list__item" id="-plm0p7_92"><p id="-plm0p7_96"><span class="control" id="-plm0p7_97">L'Adaptee :</span> Cr&eacute;ez une classe <code class="code" id="-plm0p7_98">XmlCurrencyRateProvider</code> avec une m&eacute;thode <code class="code" id="-plm0p7_99">getRateAsXml(String from, String to)</code> qui retourne un <code class="code" id="-plm0p7_100">String</code> repr&eacute;sentant un XML simple comme <code class="code" id="-plm0p7_101">&lt;rate currency=&quot;EUR&quot;&gt;0.92&lt;/rate&gt;</code>.</p></li><li class="list__item" id="-plm0p7_93"><p id="-plm0p7_102"><span class="control" id="-plm0p7_103">L'interface &quot;implicite&quot; du client :</span> Notre client a besoin d'une m&eacute;thode <code class="code" id="-plm0p7_104">getRate(String from, String to)</code> qui retourne un <code class="code" id="-plm0p7_105">double</code>.</p></li><li class="list__item" id="-plm0p7_94"><p id="-plm0p7_106"><span class="control" id="-plm0p7_108">L'Adapter :</span> Cr&eacute;ez une classe <code class="code" id="-plm0p7_109">CurrencyAdapter</code> qui s'occupe de :</p><ul class="list _bullet" id="-plm0p7_107"><li class="list__item" id="-plm0p7_110"><p id="-plm0p7_113">Appeler le service XML.</p></li><li class="list__item" id="-plm0p7_111"><p id="-plm0p7_114">Parser la cha&icirc;ne XML pour en extraire la valeur <code class="code" id="-plm0p7_115">double</code>.</p></li><li class="list__item" id="-plm0p7_112"><p id="-plm0p7_116">Retourner cette valeur.</p></li></ul></li><li class="list__item" id="-plm0p7_95"><p id="-plm0p7_117">&Eacute;crivez une petite classe de test pour prouver que votre adaptateur fonctionne.</p></li></ol></section><section class="chapter"><h3 id="correction-exercice-5-collapsible-true" data-toc="correction-exercice-5-collapsible-true">Correction exercice 5 {collapsible='true''}</h3><p id="-plm0p7_118">Excellent exercice de &quot;traduction&quot; ! Voici la solution.</p><section class="chapter"><h4 id="1-l-adaptee-xmlcurrencyrateprovider-java" data-toc="1-l-adaptee-xmlcurrencyrateprovider-java">1. L'Adaptee : <code class="code" id="-plm0p7_124">XmlCurrencyRateProvider.java</code></h4><div class="code-block" data-lang="java">
package fr.formation.spring.app.adapter.exercise;

// La classe &quot;legacy&quot; ou externe que nous ne pouvons/voulons pas modifier.
public class XmlCurrencyRateProvider {

    /**
     * Simule un service qui retourne un taux de change au format XML.
     * @param from Devise d'origine (ex: &quot;USD&quot;)
     * @param to Devise de destination (ex: &quot;EUR&quot;)
     * @return Une chaîne XML.
     */
    public String getRateAsXml(String from, String to) {
        System.out.println(&quot;Appel au service XML pour &quot; + from + &quot;-&gt;&quot; + to);
        // Dans un cas réel, ce serait un appel HTTP.
        // Ici on simule la réponse pour USD -&gt; EUR.
        if (&quot;USD&quot;.equals(from) &amp;&amp; &quot;EUR&quot;.equals(to)) {
            return &quot;&lt;rate currency=\&quot;EUR\&quot;&gt;0.92&lt;/rate&gt;&quot;;
        }
        return &quot;&lt;rate currency=\&quot;EUR\&quot;&gt;0.0&lt;/rate&gt;&quot;;
    }
}
</div></section><section class="chapter"><h4 id="2-3-l-adapter-currencyadapter-java" data-toc="2-3-l-adapter-currencyadapter-java">2 &amp; 3. L'Adapter : <code class="code" id="-plm0p7_127">CurrencyAdapter.java</code></h4><div class="code-block" data-lang="java">
package fr.formation.spring.app.adapter.exercise;

// Notre adaptateur qui fait le pont.
public class CurrencyAdapter {

    private final XmlCurrencyRateProvider adaptee = new XmlCurrencyRateProvider();

    /**
     * La méthode que notre système &quot;moderne&quot; utilisera.
     * @return un double, facile à manipuler.
     */
    public double getRate(String from, String to) {
        // 1. Appel à la méthode de l'adaptee
        String xmlData = adaptee.getRateAsXml(from, to);

        // 2. &quot;Traduction&quot; du format XML vers double.
        // C'est le coeur du travail de l'adaptateur.
        // ATTENTION : ce parsing est très basique et fragile.
        // Dans un vrai projet, on utiliserait une librairie comme JAXB ou Jackson-dataformat-xml.
        try {
            String valueStr = xmlData.substring(
                    xmlData.indexOf('&gt;') + 1,
                    xmlData.lastIndexOf('&lt;')
            );
            return Double.parseDouble(valueStr);
        } catch (Exception e) {
            System.err.println(&quot;Erreur de parsing XML: &quot; + e.getMessage());
            return 0.0;
        }
    }
}
</div></section><section class="chapter"><h4 id="4-le-test" data-toc="4-le-test">4. Le test</h4><div class="code-block" data-lang="java">
package fr.formation.spring.app.adapter.exercise;

public class TestAdapter {
    public static void main(String[] args) {
        // Le client ne connaît que l'adaptateur.
        CurrencyAdapter adapter = new CurrencyAdapter();

        // Le client demande un double, et il obtient un double !
        double rate = adapter.getRate(&quot;USD&quot;, &quot;EUR&quot;);

        System.out.println(&quot;Le client a reçu le taux de change : &quot; + rate);

        // Simuler un calcul de prix
        double priceInUsd = 25.0;
        double priceInEur = priceInUsd * rate;

        System.out.printf(
                &quot;Un livre à %.2f USD coûte %.2f EUR.%n&quot;,
                priceInUsd,
                priceInEur
        );
    }
}
</div></section></section><section class="chapter"><h3 id="le-pattern-decorator-d-corateur" data-toc="le-pattern-decorator-d-corateur">Le Pattern Decorator (D&eacute;corateur)</h3><section class="chapter"><h4 id="l-intention_2" data-toc="l-intention_2">L'intention</h4><p id="-plm0p7_133"><span class="control" id="-plm0p7_135">Attacher dynamiquement des responsabilit&eacute;s suppl&eacute;mentaires &agrave; un objet.</span> Les d&eacute;corateurs offrent une alternative flexible &agrave; l'h&eacute;ritage pour &eacute;tendre les fonctionnalit&eacute;s.</p><p id="-plm0p7_134">C'est comme commander un caf&eacute;. Vous commencez avec un caf&eacute; simple (<code class="code" id="-plm0p7_136">Component</code>). Ensuite, vous pouvez le &quot;d&eacute;corer&quot; avec du lait (<code class="code" id="-plm0p7_137">MilkDecorator</code>), puis du sucre (<code class="code" id="-plm0p7_138">SugarDecorator</code>), puis de la chantilly (<code class="code" id="-plm0p7_139">WhippedCreamDecorator</code>). Chaque d&eacute;corateur &quot;enveloppe&quot; le pr&eacute;c&eacute;dent et ajoute son propre co&ucirc;t et sa propre description, tout en restant un &quot;caf&eacute;&quot;.</p></section><section class="chapter"><h4 id="structure-et-impl-mentation_2" data-toc="structure-et-impl-mentation_2">Structure et Impl&eacute;mentation</h4><section class="chapter"><h5 id="diagramme-uml_2" data-toc="diagramme-uml_2">Diagramme UML</h5><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="574px" preserveAspectRatio="none" style="width:780px;height:574px;background:#FFFFFF;" version="1.1" viewBox="0 0 780 574" width="780px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="238" x="264.25" y="23.5352">Diagramme du Pattern Decorator</text><!--class Component--><g id="elem_Component"><rect codeLine="5" fill="#F1F1F1" height="64.4883" id="Component" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="453" y="153.4883"/><ellipse cx="473.85" cy="169.4883" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M469.7777,165.2534 L469.7777,163.0952 L477.1571,163.0952 L477.1571,165.2534 L474.6918,165.2534 L474.6918,173.3301 L477.1571,173.3301 L477.1571,175.4883 L469.7777,175.4883 L469.7777,173.3301 L472.2431,173.3301 L472.2431,165.2534 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="81" x="489.15" y="174.7793">Component</text><line style="stroke:#181818;stroke-width:0.5;" x1="454" x2="578" y1="185.4883" y2="185.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="454" x2="578" y1="193.4883" y2="193.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="459" y="211.0234">operation(): void</text></g><!--class ConcreteComponent--><g id="elem_ConcreteComponent"><rect codeLine="9" fill="#F1F1F1" height="64.4883" id="ConcreteComponent" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="175" x="598.5" y="344.4683"/><ellipse cx="613.5" cy="360.4683" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M616.4731,366.1113 Q615.8921,366.4102 615.2529,366.5596 Q614.6138,366.709 613.9082,366.709 Q611.4014,366.709 610.0815,365.0571 Q608.7617,363.4053 608.7617,360.2842 Q608.7617,357.1548 610.0815,355.5029 Q611.4014,353.8511 613.9082,353.8511 Q614.6138,353.8511 615.2612,354.0005 Q615.9087,354.1499 616.4731,354.4487 L616.4731,357.1714 Q615.8423,356.5904 615.2488,356.3206 Q614.6553,356.0508 614.0244,356.0508 Q612.6797,356.0508 611.9949,357.1175 Q611.3101,358.1841 611.3101,360.2842 Q611.3101,362.376 611.9949,363.4426 Q612.6797,364.5093 614.0244,364.5093 Q614.6553,364.5093 615.2488,364.2395 Q615.8423,363.9697 616.4731,363.3887 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="627.5" y="365.7593">ConcreteComponent</text><line style="stroke:#181818;stroke-width:0.5;" x1="599.5" x2="772.5" y1="376.4683" y2="376.4683"/><line style="stroke:#181818;stroke-width:0.5;" x1="599.5" x2="772.5" y1="384.4683" y2="384.4683"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="604.5" y="402.0034">operation(): void</text></g><!--class Decorator--><g id="elem_Decorator"><rect codeLine="13" fill="#F1F1F1" height="97.4648" id="Decorator" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="186" x="102" y="327.9783"/><ellipse cx="156.75" cy="343.9783" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M156.8633,339.3264 L155.7095,344.3982 L158.0254,344.3982 Z M155.3691,337.0852 L158.3657,337.0852 L161.7109,349.4783 L159.2622,349.4783 L158.4985,346.4153 L155.2197,346.4153 L154.4727,349.4783 L152.0239,349.4783 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68" x="177.25" y="349.2693">Decorator</text><line style="stroke:#181818;stroke-width:0.5;" x1="103" x2="287" y1="359.9783" y2="359.9783"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="108" y="377.5134">wrapped: Component</text><line style="stroke:#181818;stroke-width:0.5;" x1="103" x2="287" y1="384.4666" y2="384.4666"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="108" y="402.0017">Decorator(c: Component)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="108" y="418.49">operation(): void</text></g><g id="elem_GMN7"><path d="M322.5,359.8983 L322.5,372.7083 L288.48,376.7083 L322.5,380.7083 L322.5,393.5194 A3.5,3.5 0 0 0 326,397.0194 L560,397.0194 A3.5,3.5 0 0 0 563.5,393.5194 L563.5,366.3983 L553.5,356.3983 L326,356.3983 A3.5,3.5 0 0 0 322.5,359.8983 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M553.5,356.3983 L553.5,364.6483 A1.75,1.75 0 0 0 555.25,366.3983 L563.5,366.3983 L553.5,356.3983 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="328.5" y="373.9666">Le d&#233;corateur impl&#233;mente la m&#234;me</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="328.5" y="389.2772">interface que l'objet qu'il d&#233;core.</text></g><!--class ConcreteDecoratorA--><g id="elem_ConcreteDecoratorA"><rect codeLine="20" fill="#F1F1F1" height="80.9766" id="ConcreteDecoratorA" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="172" x="7" y="486.4383"/><ellipse cx="22" cy="502.4383" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M24.9731,508.0813 Q24.3921,508.3802 23.7529,508.5296 Q23.1138,508.679 22.4082,508.679 Q19.9014,508.679 18.5815,507.0271 Q17.2617,505.3753 17.2617,502.2542 Q17.2617,499.1248 18.5815,497.4729 Q19.9014,495.8211 22.4082,495.8211 Q23.1138,495.8211 23.7612,495.9705 Q24.4087,496.1199 24.9731,496.4187 L24.9731,499.1414 Q24.3423,498.5604 23.7488,498.2906 Q23.1553,498.0208 22.5244,498.0208 Q21.1797,498.0208 20.4949,499.0875 Q19.8101,500.1541 19.8101,502.2542 Q19.8101,504.346 20.4949,505.4126 Q21.1797,506.4793 22.5244,506.4793 Q23.1553,506.4793 23.7488,506.2095 Q24.3423,505.9397 24.9731,505.3587 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="36" y="507.7293">ConcreteDecoratorA</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="178" y1="518.4383" y2="518.4383"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="178" y1="526.4383" y2="526.4383"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="13" y="543.9734">operation(): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="13" y="560.4617">addedBehavior(): void</text></g><!--class ConcreteDecoratorB--><g id="elem_ConcreteDecoratorB"><rect codeLine="25" fill="#F1F1F1" height="64.4883" id="ConcreteDecoratorB" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="214" y="494.6883"/><ellipse cx="229" cy="510.6883" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M231.9731,516.3313 Q231.3921,516.6302 230.7529,516.7796 Q230.1138,516.929 229.4082,516.929 Q226.9014,516.929 225.5815,515.2771 Q224.2617,513.6253 224.2617,510.5042 Q224.2617,507.3748 225.5815,505.7229 Q226.9014,504.0711 229.4082,504.0711 Q230.1138,504.0711 230.7612,504.2205 Q231.4087,504.3699 231.9731,504.6687 L231.9731,507.3914 Q231.3423,506.8104 230.7488,506.5406 Q230.1553,506.2708 229.5244,506.2708 Q228.1797,506.2708 227.4949,507.3375 Q226.8101,508.4041 226.8101,510.5042 Q226.8101,512.596 227.4949,513.6626 Q228.1797,514.7293 229.5244,514.7293 Q230.1553,514.7293 230.7488,514.4595 Q231.3423,514.1897 231.9731,513.6087 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="243" y="515.9793">ConcreteDecoratorB</text><line style="stroke:#181818;stroke-width:0.5;" x1="215" x2="383" y1="526.6883" y2="526.6883"/><line style="stroke:#181818;stroke-width:0.5;" x1="215" x2="383" y1="534.6883" y2="534.6883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="220" y="552.2234">operation(): void</text></g><!--class Client--><g id="elem_Client"><rect fill="#F1F1F1" height="48" id="Client" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="480" y="44.4883"/><ellipse cx="495" cy="60.4883" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M497.9731,66.1313 Q497.3921,66.4302 496.7529,66.5796 Q496.1138,66.729 495.4082,66.729 Q492.9014,66.729 491.5815,65.0771 Q490.2617,63.4253 490.2617,60.3042 Q490.2617,57.1748 491.5815,55.5229 Q492.9014,53.8711 495.4082,53.8711 Q496.1138,53.8711 496.7612,54.0205 Q497.4087,54.1699 497.9731,54.4688 L497.9731,57.1914 Q497.3423,56.6104 496.7488,56.3406 Q496.1553,56.0708 495.5244,56.0708 Q494.1797,56.0708 493.4949,57.1375 Q492.8101,58.2041 492.8101,60.3042 Q492.8101,62.396 493.4949,63.4626 Q494.1797,64.5293 495.5244,64.5293 Q496.1553,64.5293 496.7488,64.2595 Q497.3423,63.9897 497.9731,63.4087 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="509" y="65.7793">Client</text><line style="stroke:#181818;stroke-width:0.5;" x1="481" x2="551" y1="76.4883" y2="76.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="481" x2="551" y1="84.4883" y2="84.4883"/></g><!--reverse link Component to ConcreteComponent--><g id="link_Component_ConcreteComponent"><path d="M576.9276,228.3167 C589.6876,236.7667 587.83,236.7783 598.5,247.9783 C625.28,276.0783 645.11,316.3983 660.47,344.1883 " fill="none" id="Component-backto-ConcreteComponent" style="stroke:#454645;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="561.92,218.3783,573.6148,233.3192,580.2404,223.3142,561.92,218.3783" style="stroke:#454645;stroke-width:1.0;"/></g><!--reverse link Component to ConcreteComponent--><g id="link_Component_ConcreteComponent"><path codeLine="39" d="M595.3648,217.2907 C614.6648,227.4007 618.54,232.2783 633.5,247.9783 C660.28,276.0783 680.11,316.3983 687.93,344.1883 " fill="none" id="Component-backto-ConcreteComponent-1" style="stroke:#454645;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="579.42,208.9383,592.5807,222.6057,598.149,211.9758,579.42,208.9383" style="stroke:#454645;stroke-width:1.0;"/></g><!--reverse link Component to Decorator--><g id="link_Component_Decorator"><path d="M435.3208,202.9231 C395.9808,212.3031 362.96,223.7083 323,247.9783 C288.65,268.8383 256.65,300.7683 233.24,327.4883 " fill="none" id="Component-backto-Decorator" style="stroke:#454645;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="452.83,198.7483,433.9292,197.0867,436.7124,208.7595,452.83,198.7483" style="stroke:#454645;stroke-width:1.0;"/></g><!--link Component to Decorator--><g id="link_Component_Decorator"><path codeLine="31" d="M452.86,205.8583 C424.89,215.9683 392.41,230.0383 366,247.9783 C340.52,265.2883 341.86,278.4983 318,297.9783 C305.38,308.2783 301.3166,311.7049 287.3266,320.9649 " fill="none" id="Component-to-Decorator" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="none" points="277.32,327.5883,284.5311,327.6121,287.3266,320.9649,280.1155,320.9411,277.32,327.5883" style="stroke:#454645;stroke-width:1.0;"/><path d="M371,256.4783 L371,289.4783 A3.5,3.5 0 0 0 374.5,292.9783 L599.5,292.9783 A3.5,3.5 0 0 0 603,289.4783 L603,262.9783 L593,252.9783 L374.5,252.9783 A3.5,3.5 0 0 0 371,256.4783 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M593,252.9783 L593,261.2283 A1.75,1.75 0 0 0 594.75,262.9783 L603,262.9783 L593,252.9783 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="377" y="270.5466">Composition : le d&#233;corateur</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="377" y="285.8572">"enveloppe" un autre Component.</text></g><!--reverse link Decorator to ConcreteDecoratorA--><g id="link_Decorator_ConcreteDecoratorA"><path d="M138.7225,440.2452 C124.1825,459.6952 119.9,467.4483 108.7,485.9783 " fill="none" id="Decorator-backto-ConcreteDecoratorA" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="none" points="149.5,425.8283,133.9169,436.6527,143.5282,443.8376,149.5,425.8283" style="stroke:#454645;stroke-width:1.0;"/></g><!--reverse link Decorator to ConcreteDecoratorA--><g id="link_Decorator_ConcreteDecoratorA"><path codeLine="37" d="M164.6841,441.0698 C152.4641,460.5198 146.59,467.4483 132.29,485.9783 " fill="none" id="Decorator-backto-ConcreteDecoratorA-1" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="none" points="174.26,425.8283,159.6036,437.8778,169.7646,444.2617,174.26,425.8283" style="stroke:#454645;stroke-width:1.0;"/></g><!--reverse link Decorator to ConcreteDecoratorB--><g id="link_Decorator_ConcreteDecoratorB"><path d="M226.1104,440.978 C240.5404,463.468 249.63,474.4583 265.89,494.3883 " fill="none" id="Decorator-backto-ConcreteDecoratorB" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="none" points="216.39,425.8283,221.0604,444.2181,231.1603,437.7379,216.39,425.8283" style="stroke:#454645;stroke-width:1.0;"/></g><!--reverse link Decorator to ConcreteDecoratorB--><g id="link_Decorator_ConcreteDecoratorB"><path codeLine="38" d="M252.0486,440.1538 C269.1586,462.6438 276.14,474.4583 287.84,494.3883 " fill="none" id="Decorator-backto-ConcreteDecoratorB-1" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="none" points="241.15,425.8283,247.2734,443.7867,256.8238,436.5209,241.15,425.8283" style="stroke:#454645;stroke-width:1.0;"/></g><!--link Client to Component--><g id="link_Client_Component"><path codeLine="29" d="M516,92.8083 C516,110.1783 516,128.0683 516,147.1483 " fill="none" id="Client-to-Component" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="516,153.1483,520,144.1483,516,148.1483,512,144.1483,516,153.1483" style="stroke:#454645;stroke-width:1.0;"/></g><!--SRC=[ZP91KiCm34NtEeN8fcMH722Bpj1soO83i55ZqHeSEJXAO8RsGEKQlHXEooI1IGTsdc_fV-dPDxhZah6rcq2Ye5OTOxAsj0rKnWlJu0EfSX1SS-43gGy9W9KeFL71kF9bvOL5yGF0Lnmhh9VvROwjjmOEK3YgwrWcHM3beToMbOlHelNV7hIfDL2XU37h9xbgyXQegjZaWmfzqxmOoRUJUUALCTZjJdEyZn1EntClDvV4qx6BP7I4vUcpv4SPUBmsKP_vpJDhFC-i- -xcx1U9Vfuxv7TbCUEz9ZcGCMoMlAFMnYsk4UvDbl_rFS3AsGvSQjB5YDY037tQfAERCnylwAoym5ckRMU9EReVk21XQTdv-1W9DeBKQ1ZzcGpYVDYv0KnmYQ7xnJ0zJAnuhMJu3LcJxKTRVG40]--></g></svg></div><figure id="-plm0p7_144"><img alt="decorator-pattern-Diagramme_du_Pattern_Decorator.svg" src="images/decorator-pattern-Diagramme_du_Pattern_Decorator.svg" title="decorator-pattern-Diagramme_du_Pattern_Decorator.svg" width="1554" height="1148"></figure></section><section class="chapter"><h5 id="exemple-ajouter-des-options-une-boisson" data-toc="exemple-ajouter-des-options-une-boisson">Exemple : Ajouter des options &agrave; une boisson</h5><ol class="list _decimal" id="-plm0p7_145" type="1"><li class="list__item" id="-plm0p7_154"><p id="-plm0p7_155"><span class="control" id="-plm0p7_156">Le composant (Component)</span>: L'interface de base pour tous les objets (d&eacute;cor&eacute;s ou non).</p></li></ol><div class="code-block" data-lang="java">
package fr.formation.spring.app.decorator;

public interface Beverage {
    String getDescription();

    double getCost();
}
</div><ol class="list _decimal" id="-plm0p7_147" type="1" start="2"><li class="list__item" id="-plm0p7_157"><p id="-plm0p7_158"><span class="control" id="-plm0p7_159">Le composant concret (ConcreteComponent)</span>: L'objet de base.</p></li></ol><div class="code-block" data-lang="java">
package fr.formation.spring.app.decorator;

public class SimpleCoffee implements Beverage {
    @Override
    public String getDescription() {
        return &quot;Café simple&quot;;
    }

    @Override
    public double getCost() {
        return 1.50;
    }
}
</div><ol class="list _decimal" id="-plm0p7_149" type="1" start="3"><li class="list__item" id="-plm0p7_160"><p id="-plm0p7_161"><span class="control" id="-plm0p7_162">Le d&eacute;corateur abstrait (Decorator)</span></p></li></ol><div class="code-block" data-lang="java">
package fr.formation.spring.app.decorator;

public abstract class BeverageDecorator implements Beverage {
    protected Beverage wrappedBeverage; // L'objet enveloppé

    public BeverageDecorator(Beverage beverage) {
        this.wrappedBeverage = beverage;
    }

    @Override
    public String getDescription() {
        // Délègue à l'objet enveloppé
        return wrappedBeverage.getDescription();
    }

    @Override
    public double getCost() {
        // Délègue à l'objet enveloppé
        return wrappedBeverage.getCost();
    }
}
</div><ol class="list _decimal" id="-plm0p7_151" type="1" start="4"><li class="list__item" id="-plm0p7_163"><p id="-plm0p7_164"><span class="control" id="-plm0p7_165">Les d&eacute;corateurs concrets (ConcreteDecorator)</span></p></li></ol><div class="code-block" data-lang="java">
package fr.formation.spring.app.decorator;

public class MilkDecorator extends BeverageDecorator {
    public MilkDecorator(Beverage beverage) {
        super(beverage);
    }

    @Override
    public String getDescription() {
        return super.getDescription() + &quot;, Lait&quot;;
    }

    @Override
    public double getCost() {
        return super.getCost() + 0.50;
    }
}
</div><div class="code-block" data-lang="java">
package fr.formation.spring.app.decorator;

public class SugarDecorator extends BeverageDecorator {
    public SugarDecorator(Beverage beverage) {
        super(beverage);
    }

    @Override
    public String getDescription() {
        return super.getDescription() + &quot;, Sucre&quot;;
    }

    @Override
    public double getCost() {
        return super.getCost() + 0.10;
    }
}
</div></section><section class="chapter"><h5 id="utilisation" data-toc="utilisation">Utilisation</h5><p id="-plm0p7_166">Le code client est tr&egrave;s flexible :</p><div class="code-block" data-lang="java">
Beverage myCoffee = new SimpleCoffee();
System.out.

println(myCoffee.getDescription() +&quot; : &quot;+myCoffee.

getCost() +&quot;€&quot;);

// On décore le café avec du lait
myCoffee =new

MilkDecorator(myCoffee);
System.out.

println(myCoffee.getDescription() +&quot; : &quot;+myCoffee.

getCost() +&quot;€&quot;);

// On ajoute du sucre par-dessus
myCoffee =new

SugarDecorator(myCoffee);
System.out.

println(myCoffee.getDescription() +&quot; : &quot;+myCoffee.

getCost() +&quot;€&quot;);
</div></section></section><section class="chapter"><h4 id="cas-d-utilisation-et-bonnes-pratiques_1" data-toc="cas-d-utilisation-et-bonnes-pratiques_1">Cas d'utilisation et Bonnes Pratiques</h4><ul class="list _bullet" id="-plm0p7_168"><li class="list__item" id="-plm0p7_169"><p id="-plm0p7_172"><span class="control" id="-plm0p7_173">Quand l'utiliser ?</span> Quand vous voulez ajouter des responsabilit&eacute;s &agrave; des objets individuels de mani&egrave;re dynamique et transparente, et quand l'h&eacute;ritage est trop rigide (explosion du nombre de sous-classes pour g&eacute;rer toutes les combinaisons).</p></li><li class="list__item" id="-plm0p7_170"><p id="-plm0p7_174"><span class="control" id="-plm0p7_175">Exemple connu :</span> Le package <code class="code" id="-plm0p7_176">java.io</code>. <code class="code" id="-plm0p7_177">new BufferedInputStream(new FileInputStream(&quot;file.txt&quot;))</code> d&eacute;core un <code class="code" id="-plm0p7_178">FileInputStream</code> avec un buffer pour am&eacute;liorer les performances. Les deux sont des <code class="code" id="-plm0p7_179">InputStream</code>.</p></li><li class="list__item" id="-plm0p7_171"><p id="-plm0p7_180">Le Decorator respecte parfaitement le <span class="control" id="-plm0p7_181">Principe Ouvert/Ferm&eacute;</span>.</p></li></ul></section></section><section class="chapter"><h3 id="le-pattern-facade-fa-ade" data-toc="le-pattern-facade-fa-ade">Le Pattern Facade (Fa&ccedil;ade)</h3><section class="chapter"><h4 id="l-intention_1" data-toc="l-intention_1">L'intention</h4><p id="-plm0p7_184"><span class="control" id="-plm0p7_186">Fournir une interface unifi&eacute;e et simplifi&eacute;e &agrave; un ensemble d'interfaces dans un sous-syst&egrave;me complexe.</span> La Fa&ccedil;ade d&eacute;finit une interface de plus haut niveau qui rend le sous-syst&egrave;me plus facile &agrave; utiliser.</p><p id="-plm0p7_185">Imaginez d&eacute;marrer une s&eacute;ance de home cinema. Vous devez allumer la TV, la mettre sur le bon canal HDMI, allumer l'ampli, s&eacute;lectionner la bonne source, allumer le lecteur Blu-ray et baisser les lumi&egrave;res. C'est complexe. Une t&eacute;l&eacute;commande universelle avec un bouton &quot;Soir&eacute;e Film&quot; (<code class="code" id="-plm0p7_187">Facade</code>) ferait toutes ces actions pour vous. Elle ne remplace pas les appareils du sous-syst&egrave;me, elle en simplifie juste l'acc&egrave;s.</p></section><section class="chapter"><h4 id="structure-et-impl-mentation_1" data-toc="structure-et-impl-mentation_1">Structure et Impl&eacute;mentation</h4><section class="chapter"><h5 id="diagramme-uml_1" data-toc="diagramme-uml_1">Diagramme UML</h5><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="523px" preserveAspectRatio="none" style="width:699px;height:523px;background:#FFFFFF;" version="1.1" viewBox="0 0 699 523" width="699px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="216" x="234.75" y="23.5352">Diagramme du Pattern Facade</text><!--cluster Sous-syst?me Complexe--><g id="cluster_Sous-syst&#232;me Complexe"><path d="M9.5,43.4883 L187.5,43.4883 A5.25,5.25 0 0 1 191,46.9883 L198,65.9766 L578.5,65.9766 A3.5,3.5 0 0 1 582,69.4766 L582,155.4683 A3.5,3.5 0 0 1 578.5,158.9683 L9.5,158.9683 A3.5,3.5 0 0 1 6,155.4683 L6,46.9883 A3.5,3.5 0 0 1 9.5,43.4883 " fill="none" style="stroke:#696969;stroke-width:1.0;"/><line style="stroke:#696969;stroke-width:1.0;" x1="6" x2="198" y1="65.9766" y2="65.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="179" x="10" y="59.0234">Sous-syst&#232;me Complexe</text></g><!--class SubSystemA--><g id="elem_SubSystemA"><rect codeLine="18" fill="#F1F1F1" height="64.4883" id="SubSystemA" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="407.5" y="78.4883"/><ellipse cx="441.85" cy="94.4883" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M444.8231,100.1313 Q444.2421,100.4302 443.6029,100.5796 Q442.9638,100.729 442.2582,100.729 Q439.7514,100.729 438.4315,99.0771 Q437.1117,97.4253 437.1117,94.3042 Q437.1117,91.1748 438.4315,89.5229 Q439.7514,87.8711 442.2582,87.8711 Q442.9638,87.8711 443.6112,88.0205 Q444.2587,88.1699 444.8231,88.4688 L444.8231,91.1914 Q444.1923,90.6104 443.5988,90.3406 Q443.0053,90.0708 442.3744,90.0708 Q441.0297,90.0708 440.3449,91.1375 Q439.6601,92.2041 439.6601,94.3042 Q439.6601,96.396 440.3449,97.4626 Q441.0297,98.5293 442.3744,98.5293 Q443.0053,98.5293 443.5988,98.2595 Q444.1923,97.9897 444.8231,97.4087 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="460.15" y="99.7793">SubSystemA</text><line style="stroke:#181818;stroke-width:0.5;" x1="408.5" x2="565.5" y1="110.4883" y2="110.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="408.5" x2="565.5" y1="118.4883" y2="118.4883"/><ellipse cx="418.5" cy="132.2324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="427.5" y="136.0234">operationA1(): void</text></g><!--class SubSystemB--><g id="elem_SubSystemB"><rect codeLine="22" fill="#F1F1F1" height="64.4883" id="SubSystemB" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="157" x="215.5" y="78.4883"/><ellipse cx="249.85" cy="94.4883" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M252.8231,100.1313 Q252.2421,100.4302 251.6029,100.5796 Q250.9638,100.729 250.2582,100.729 Q247.7514,100.729 246.4315,99.0771 Q245.1117,97.4253 245.1117,94.3042 Q245.1117,91.1748 246.4315,89.5229 Q247.7514,87.8711 250.2582,87.8711 Q250.9638,87.8711 251.6112,88.0205 Q252.2587,88.1699 252.8231,88.4688 L252.8231,91.1914 Q252.1923,90.6104 251.5988,90.3406 Q251.0053,90.0708 250.3744,90.0708 Q249.0297,90.0708 248.3449,91.1375 Q247.6601,92.2041 247.6601,94.3042 Q247.6601,96.396 248.3449,97.4626 Q249.0297,98.5293 250.3744,98.5293 Q251.0053,98.5293 251.5988,98.2595 Q252.1923,97.9897 252.8231,97.4087 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="268.15" y="99.7793">SubSystemB</text><line style="stroke:#181818;stroke-width:0.5;" x1="216.5" x2="371.5" y1="110.4883" y2="110.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="216.5" x2="371.5" y1="118.4883" y2="118.4883"/><ellipse cx="226.5" cy="132.2324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="235.5" y="136.0234">operationB2(): void</text></g><!--class SubSystemC--><g id="elem_SubSystemC"><rect codeLine="25" fill="#F1F1F1" height="64.4883" id="SubSystemC" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="21.5" y="78.4883"/><ellipse cx="55.85" cy="94.4883" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M58.8231,100.1313 Q58.2421,100.4302 57.6029,100.5796 Q56.9638,100.729 56.2582,100.729 Q53.7514,100.729 52.4315,99.0771 Q51.1117,97.4253 51.1117,94.3042 Q51.1117,91.1748 52.4315,89.5229 Q53.7514,87.8711 56.2582,87.8711 Q56.9638,87.8711 57.6112,88.0205 Q58.2587,88.1699 58.8231,88.4688 L58.8231,91.1914 Q58.1923,90.6104 57.5988,90.3406 Q57.0053,90.0708 56.3744,90.0708 Q55.0297,90.0708 54.3449,91.1375 Q53.6601,92.2041 53.6601,94.3042 Q53.6601,96.396 54.3449,97.4626 Q55.0297,98.5293 56.3744,98.5293 Q57.0053,98.5293 57.5988,98.2595 Q58.1923,97.9897 58.8231,97.4087 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="74.15" y="99.7793">SubSystemC</text><line style="stroke:#181818;stroke-width:0.5;" x1="22.5" x2="179.5" y1="110.4883" y2="110.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="22.5" x2="179.5" y1="118.4883" y2="118.4883"/><ellipse cx="32.5" cy="132.2324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="41.5" y="136.0234">operationC3(): void</text></g><!--class Client--><g id="elem_Client"><rect codeLine="5" fill="#F1F1F1" height="48" id="Client" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="174" y="449.1983"/><ellipse cx="189" cy="465.1983" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M191.9731,470.8413 Q191.3921,471.1402 190.7529,471.2896 Q190.1138,471.439 189.4082,471.439 Q186.9014,471.439 185.5815,469.7871 Q184.2617,468.1353 184.2617,465.0142 Q184.2617,461.8848 185.5815,460.2329 Q186.9014,458.5811 189.4082,458.5811 Q190.1138,458.5811 190.7612,458.7305 Q191.4087,458.8799 191.9731,459.1788 L191.9731,461.9014 Q191.3423,461.3204 190.7488,461.0506 Q190.1553,460.7808 189.5244,460.7808 Q188.1797,460.7808 187.4949,461.8475 Q186.8101,462.9141 186.8101,465.0142 Q186.8101,467.106 187.4949,468.1726 Q188.1797,469.2393 189.5244,469.2393 Q190.1553,469.2393 190.7488,468.9695 Q191.3423,468.6997 191.9731,468.1187 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="203" y="470.4893">Client</text><line style="stroke:#181818;stroke-width:0.5;" x1="175" x2="245" y1="481.1983" y2="481.1983"/><line style="stroke:#181818;stroke-width:0.5;" x1="175" x2="245" y1="489.1983" y2="489.1983"/></g><!--class Facade--><g id="elem_Facade"><rect codeLine="7" fill="#F1F1F1" height="113.9531" id="Facade" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="200" x="194" y="254.9683"/><ellipse cx="265.75" cy="270.9683" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M268.7231,276.6113 Q268.1421,276.9102 267.5029,277.0596 Q266.8638,277.209 266.1582,277.209 Q263.6514,277.209 262.3315,275.5571 Q261.0117,273.9053 261.0117,270.7842 Q261.0117,267.6548 262.3315,266.0029 Q263.6514,264.3511 266.1582,264.3511 Q266.8638,264.3511 267.5112,264.5005 Q268.1587,264.6499 268.7231,264.9488 L268.7231,267.6714 Q268.0923,267.0904 267.4988,266.8206 Q266.9053,266.5508 266.2744,266.5508 Q264.9297,266.5508 264.2449,267.6175 Q263.5601,268.6841 263.5601,270.7842 Q263.5601,272.876 264.2449,273.9426 Q264.9297,275.0093 266.2744,275.0093 Q266.9053,275.0093 267.4988,274.7395 Q268.0923,274.4697 268.7231,273.8887 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="286.25" y="276.2593">Facade</text><line style="stroke:#181818;stroke-width:0.5;" x1="195" x2="393" y1="286.9683" y2="286.9683"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="202" y="297.7124"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="214" y="304.5034">subsystemA: SubSystemA</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="202" y="314.2007"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="214" y="320.9917">subsystemB: SubSystemB</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="202" y="330.689"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="214" y="337.48">subsystemC: SubSystemC</text><line style="stroke:#181818;stroke-width:0.5;" x1="195" x2="393" y1="344.4331" y2="344.4331"/><ellipse cx="205" cy="358.1773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="214" y="361.9683">operation(): void</text></g><g id="elem_GMN4"><path d="M429.5,295.1383 L429.5,307.9483 L394.39,311.9483 L429.5,315.9483 L429.5,328.7594 A3.5,3.5 0 0 0 433,332.2594 L689,332.2594 A3.5,3.5 0 0 0 692.5,328.7594 L692.5,301.6383 L682.5,291.6383 L433,291.6383 A3.5,3.5 0 0 0 429.5,295.1383 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M682.5,291.6383 L682.5,299.8883 A1.75,1.75 0 0 0 684.25,301.6383 L692.5,301.6383 L682.5,291.6383 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="435.5" y="309.2066">La Fa&#231;ade fournit une m&#233;thode</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="435.5" y="324.5172">simple qui orchestre le sous-syst&#232;me.</text></g><g id="elem_N1"><path d="M280.5,433.4283 L280.5,512.981 A3.5,3.5 0 0 0 284,516.481 L472,516.481 A3.5,3.5 0 0 0 475.5,512.981 L475.5,439.9283 L465.5,429.9283 L359.51,429.9283 L323.62,369.0983 L351.51,429.9283 L284,429.9283 A3.5,3.5 0 0 0 280.5,433.4283 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M465.5,429.9283 L465.5,438.1783 A1.75,1.75 0 0 0 467.25,439.9283 L475.5,439.9283 L465.5,429.9283 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="286.5" y="447.4966">operation() {</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="290.5" y="462.8072">subsystemA.operationA1();</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="290.5" y="478.1177">subsystemB.operationB2();</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="290.5" y="493.4283">subsystemC.operationC3();</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="286.5" y="508.7388">}</text></g><!--reverse link Facade to Client--><g id="link_Facade_Client"><path codeLine="30" d="M261.5811,374.4055 C247.1311,401.8055 233.33,427.9783 222.31,448.8683 " fill="none" id="Facade-backto-Client" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="264.38,369.0983,256.6436,375.1932,262.0476,373.5209,263.7198,378.925,264.38,369.0983" style="stroke:#454645;stroke-width:1.0;"/></g><!--reverse link SubSystemA to Facade--><g id="link_SubSystemA_Facade"><path codeLine="32" d="M452.245,147.6075 C423.335,177.4475 383.48,218.5883 348.55,254.6383 " fill="none" id="SubSystemA-backto-Facade" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="456.42,143.2983,447.2847,146.9789,452.9409,146.8893,453.0304,152.5455,456.42,143.2983" style="stroke:#454645;stroke-width:1.0;"/></g><!--reverse link SubSystemB to Facade--><g id="link_SubSystemB_Facade"><path codeLine="33" d="M294,149.2983 C294,179.1383 294,218.5883 294,254.6383 " fill="none" id="SubSystemB-backto-Facade" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="294,143.2983,290,152.2983,294,148.2983,298,152.2983,294,143.2983" style="stroke:#454645;stroke-width:1.0;"/></g><!--reverse link SubSystemC to Facade--><g id="link_SubSystemC_Facade"><path codeLine="34" d="M104.424,149.3 C107.874,173.88 115.12,201.6583 134,224.9683 C149.88,244.5783 171.45,260.3283 193.62,272.7183 " fill="none" id="SubSystemC-backto-Facade" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="103.59,143.3583,100.8798,152.8269,104.285,148.3097,108.8021,151.7149,103.59,143.3583" style="stroke:#454645;stroke-width:1.0;"/><path d="M139,183.4683 L139,216.4683 A3.5,3.5 0 0 0 142.5,219.9683 L277.5,219.9683 A3.5,3.5 0 0 0 281,216.4683 L281,189.9683 L271,179.9683 L142.5,179.9683 A3.5,3.5 0 0 0 139,183.4683 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M271,179.9683 L271,188.2183 A1.75,1.75 0 0 0 272.75,189.9683 L281,189.9683 L271,179.9683 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="145" y="197.5366">Le client n'interagit</text><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="145" y="212.8472">qu'avec la Fa&#231;ade.</text></g><!--SRC=[VLBBJiCm4BplLoov58HYgN0h4b9ZnAb2IBroSPCbiPhOhHyLgEht0D_H7yDv04vLSR1axuozEpE-S1KrX3kvCa8vSDBLXCc35AKHJG0AZy_2EJ8A7qKk2ae0ybfOYxoM56uCfnx4FK2Arg_iktNKp6UuzAjblu-1B0Ao6E0Hm06kKM_822UrkhoQuKxB0X0FOIdj28qiApV3XGZjZnzj_rVjZP8ElI9iZb-kqWMzA2kRJP2rzHAroIkopX26WjNUfctZusT3360ZyhKeW_vb323NxVKtIeAyNksVgbPnDELyUZBd2JyB_8YUtVnFvsCwlpsX7m3w633rwVqG0i0GHbUB0ZXRpiwNW_cTnLfXBTKQ5XHcwpgfYLJXFuXIEjZwYTXHZlLl0Wn85LqwmmD9b23kNrJqEzZ8jhiOozZ8en76sSYGW1qI51QVfZzI60k7Rm00]--></g></svg></div></section></section></section><section class="chapter"><h3 id="exercice-6-simplifier-l-emprunt-d-un-livre-avec-une-fa-ade" data-toc="exercice-6-simplifier-l-emprunt-d-un-livre-avec-une-fa-ade">Exercice 6 : Simplifier l'emprunt d'un livre avec une Fa&ccedil;ade</h3><p id="-plm0p7_190">Dans notre biblioth&egrave;que, le processus d'emprunt d'un livre est complexe et fait intervenir plusieurs services :</p><ol class="list _decimal" id="-plm0p7_191" type="1"><li class="list__item" id="-plm0p7_195"><p id="-plm0p7_198"><code class="code" id="-plm0p7_199">UserService</code>: Pour v&eacute;rifier si l'utilisateur a le droit d'emprunter.</p></li><li class="list__item" id="-plm0p7_196"><p id="-plm0p7_200"><code class="code" id="-plm0p7_201">InventoryService</code>: Pour v&eacute;rifier si le livre est en stock et d&eacute;cr&eacute;menter le stock.</p></li><li class="list__item" id="-plm0p7_197"><p id="-plm0p7_202"><code class="code" id="-plm0p7_203">LoanService</code>: Pour enregistrer l'emprunt dans l'historique.</p></li></ol><p id="-plm0p7_192">Votre mission est de cr&eacute;er une <code class="code" id="-plm0p7_204">BorrowingFacade</code> pour simplifier ce processus.</p><p id="-plm0p7_193"><span class="control" id="-plm0p7_205">Cahier des charges :</span></p><ol class="list _decimal" id="-plm0p7_194" type="1"><li class="list__item" id="-plm0p7_206"><p id="-plm0p7_211"><span class="control" id="-plm0p7_212">Le sous-syst&egrave;me :</span> Cr&eacute;ez trois classes de service simples : <code class="code" id="-plm0p7_213">UserService</code>, <code class="code" id="-plm0p7_214">InventoryService</code> et <code class="code" id="-plm0p7_215">LoanService</code>, chacune avec une ou deux m&eacute;thodes. Vous n'avez pas besoin de les c&acirc;bler &agrave; la base de donn&eacute;es, des <code class="code" id="-plm0p7_216">System.out.println</code> suffiront pour simuler leur fonctionnement.</p></li><li class="list__item" id="-plm0p7_207"><p id="-plm0p7_217"><span class="control" id="-plm0p7_218">La Fa&ccedil;ade :</span> Cr&eacute;ez une classe <code class="code" id="-plm0p7_219">BorrowingFacade</code> qui a une seule m&eacute;thode publique : <code class="code" id="-plm0p7_220">borrowBook(long userId, long bookId)</code>.</p></li><li class="list__item" id="-plm0p7_208"><p id="-plm0p7_221">Cette m&eacute;thode doit orchestrer les appels aux services du sous-syst&egrave;me dans le bon ordre.</p></li><li class="list__item" id="-plm0p7_209"><p id="-plm0p7_222"><span class="control" id="-plm0p7_223">Le Client :</span> Cr&eacute;ez un <code class="code" id="-plm0p7_224">BorrowingController</code> avec un endpoint <code class="code" id="-plm0p7_225">POST /api/borrowing/{userId}/{bookId}</code> qui appelle la m&eacute;thode de votre fa&ccedil;ade.</p></li><li class="list__item" id="-plm0p7_210"><p id="-plm0p7_226">Fournissez la requ&ecirc;te HTTP pour tester.</p></li></ol></section><section class="chapter"><h3 id="correction-exercice-6-collapsible-true" data-toc="correction-exercice-6-collapsible-true">Correction exercice 6 {collapsible='true''}</h3><p id="-plm0p7_227">Parfait ! Cet exercice montre &agrave; quel point une fa&ccedil;ade peut nettoyer le code de haut niveau (comme les contr&ocirc;leurs).</p><section class="chapter"><h4 id="1-le-sous-syst-me-complexe" data-toc="1-le-sous-syst-me-complexe">1. Le sous-syst&egrave;me complexe</h4><p id="-plm0p7_232">Dans le package <code class="code" id="-plm0p7_236">fr.formation.spring.app.facade.subsystem</code>:</p><div class="code-block" data-lang="java">
// UserService.java
package fr.formation.spring.app.facade.subsystem;

import org.springframework.stereotype.Service;

@Service
public class UserService {
    public boolean canUserBorrow(long userId) {
        System.out.println(&quot;Vérification des droits pour l'utilisateur &quot; + userId);
        // Logique complexe... on suppose que l'utilisateur a le droit.
        return true;
    }
}
</div><div class="code-block" data-lang="java">
// InventoryService.java
package fr.formation.spring.app.facade.subsystem;

import org.springframework.stereotype.Service;

@Service
public class InventoryService {
    public boolean isBookInStock(long bookId) {
        System.out.println(&quot;Vérification du stock pour le livre &quot; + bookId);
        return true; // Supposons qu'il y a du stock
    }

    public void decreaseStock(long bookId) {
        System.out.println(&quot;Décrémentation du stock pour le livre &quot; + bookId);
    }
}
</div><div class="code-block" data-lang="java">
// LoanService.java
package fr.formation.spring.app.facade.subsystem;

import org.springframework.stereotype.Service;

@Service
public class LoanService {
    public void recordLoan(long userId, long bookId) {
        System.out.println(&quot;Enregistrement de l'emprunt pour l'utilisateur &quot;
                + userId + &quot; et le livre &quot; + bookId);
    }
}
</div></section><section class="chapter"><h4 id="2-3-la-borrowingfacade-java" data-toc="2-3-la-borrowingfacade-java">2 &amp; 3. La <code class="code" id="-plm0p7_240">BorrowingFacade.java</code></h4><p id="-plm0p7_238">Dans le package <code class="code" id="-plm0p7_241">fr.formation.spring.app.facade</code>:</p><div class="code-block" data-lang="java">
package fr.formation.spring.app.facade;

import fr.formation.spring.app.facade.subsystem.InventoryService;
import fr.formation.spring.app.facade.subsystem.LoanService;
import fr.formation.spring.app.facade.subsystem.UserService;
import org.springframework.stereotype.Component;

@Component // On la déclare comme un bean Spring
public class BorrowingFacade {

    private final UserService userService;
    private final InventoryService inventoryService;
    private final LoanService loanService;

    // Injection des dépendances du sous-système
    public BorrowingFacade(UserService us, InventoryService is, LoanService ls) {
        this.userService = us;
        this.inventoryService = is;
        this.loanService = ls;
    }

    /**
     * Orchestre le processus d'emprunt.
     * @return true si l'emprunt a réussi, false sinon.
     */
    public boolean borrowBook(long userId, long bookId) {
        System.out.println(&quot;--- Début du processus d'emprunt via la Façade ---&quot;);

        if (!userService.canUserBorrow(userId)) {
            System.err.println(&quot;L'utilisateur n'a pas le droit d'emprunter.&quot;);
            return false;
        }

        if (!inventoryService.isBookInStock(bookId)) {
            System.err.println(&quot;Le livre n'est plus en stock.&quot;);
            return false;
        }

        inventoryService.decreaseStock(bookId);
        loanService.recordLoan(userId, bookId);

        System.out.println(&quot;--- Emprunt réussi ! ---&quot;);
        return true;
    }
}
</div></section><section class="chapter"><h4 id="4-le-borrowingcontroller-java" data-toc="4-le-borrowingcontroller-java">4. Le <code class="code" id="-plm0p7_245">BorrowingController.java</code></h4><p id="-plm0p7_243">Dans le package <code class="code" id="-plm0p7_246">fr.formation.spring.app.controllers</code>:</p><div class="code-block" data-lang="java">
package fr.formation.spring.app.controllers;

import fr.formation.spring.app.facade.BorrowingFacade;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping(&quot;/api/borrowing&quot;)
public class BorrowingController {

    private final BorrowingFacade borrowingFacade;

    public BorrowingController(BorrowingFacade borrowingFacade) {
        this.borrowingFacade = borrowingFacade;
    }

    @PostMapping(&quot;/{userId}/{bookId}&quot;)
    public ResponseEntity&lt;String&gt; borrowBook(
            @PathVariable long userId,
            @PathVariable long bookId) {

        // Le contrôleur est très simple ! Il délègue tout à la façade.
        boolean success = borrowingFacade.borrowBook(userId, bookId);

        if (success) {
            return ResponseEntity.ok(&quot;Livre emprunté avec succès.&quot;);
        } else {
            return ResponseEntity.badRequest().body(&quot;L'emprunt a échoué.&quot;);
        }
    }
}
</div></section><section class="chapter"><h4 id="5-la-requ-te-http" data-toc="5-la-requ-te-http">5. La requ&ecirc;te HTTP</h4><div class="code-block" data-lang="http">
### Emprunter un livre via la façade

POST http://localhost:8080/api/borrowing/101/1
</div><p id="-plm0p7_248">En ex&eacute;cutant cette requ&ecirc;te, vous verrez dans la console de votre application la s&eacute;quence d'appels orchestr&eacute;e par la fa&ccedil;ade.</p></section></section></section><section class="chapter"><h2 id="pour-aller-plus-loin" data-toc="pour-aller-plus-loin">Pour aller plus loin</h2><section class="chapter"><h3 id="le-pattern-proxy" data-toc="le-pattern-proxy">Le Pattern Proxy</h3><ul class="list _bullet" id="-plm0p7_251"><li class="list__item" id="-plm0p7_252"><p id="-plm0p7_256"><span class="control" id="-plm0p7_257">Intention :</span> Fournir un substitut ou un placeholder pour un autre objet afin de contr&ocirc;ler l'acc&egrave;s &agrave; celui-ci.</p></li><li class="list__item" id="-plm0p7_253"><p id="-plm0p7_258"><span class="control" id="-plm0p7_259">Analogie :</span> Une carte de cr&eacute;dit est un proxy pour votre argent en banque. Elle vous donne acc&egrave;s &agrave; votre argent mais avec un contr&ocirc;le (limites, code PIN...).</p></li><li class="list__item" id="-plm0p7_254"><p id="-plm0p7_260"><span class="control" id="-plm0p7_262">Types courants :</span></p><ul class="list _bullet" id="-plm0p7_261"><li class="list__item" id="-plm0p7_263"><p id="-plm0p7_266"><span class="control" id="-plm0p7_267">Proxy de protection :</span> Contr&ocirc;le l'acc&egrave;s &agrave; un objet en fonction des droits. Ex: un service accessible uniquement aux administrateurs.</p></li><li class="list__item" id="-plm0p7_264"><p id="-plm0p7_268"><span class="control" id="-plm0p7_269">Proxy virtuel :</span> Retarde la cr&eacute;ation d'un objet co&ucirc;teux jusqu'&agrave; ce qu'il soit r&eacute;ellement n&eacute;cessaire (lazy loading).</p></li><li class="list__item" id="-plm0p7_265"><p id="-plm0p7_270"><span class="control" id="-plm0p7_271">Proxy distant :</span> Repr&eacute;sente un objet qui se trouve dans un autre espace d'adressage (sur un autre serveur).</p></li></ul></li><li class="list__item" id="-plm0p7_255"><p id="-plm0p7_272"><span class="control" id="-plm0p7_273">Relation avec Spring :</span> Spring AOP (Programmation Orient&eacute;e Aspect) utilise massivement les proxies ! Quand vous mettez <code class="code" id="-plm0p7_274">@Transactional</code> sur une m&eacute;thode, Spring cr&eacute;e un proxy autour de votre bean. Ce proxy d&eacute;marre une transaction avant l'appel de votre m&eacute;thode et la commit (ou la rollback) apr&egrave;s. Vous n'&eacute;crivez que la logique m&eacute;tier, le proxy g&egrave;re l'aspect technique.</p></li></ul></section><section class="chapter"><h3 id="le-pattern-composite" data-toc="le-pattern-composite">Le Pattern Composite</h3><ul class="list _bullet" id="-plm0p7_275"><li class="list__item" id="-plm0p7_276"><p id="-plm0p7_279"><span class="control" id="-plm0p7_280">Intention :</span> Composer des objets en structures arborescentes pour repr&eacute;senter des hi&eacute;rarchies &quot;partie-tout&quot;. Le Composite permet aux clients de traiter les objets individuels et les compositions d'objets de mani&egrave;re uniforme.</p></li><li class="list__item" id="-plm0p7_277"><p id="-plm0p7_281"><span class="control" id="-plm0p7_282">Analogie :</span> Un dossier dans un syst&egrave;me de fichiers. Un dossier peut contenir des fichiers (feuilles) mais aussi d'autres dossiers (composites), qui &agrave; leur tour contiennent des fichiers et des dossiers. Que ce soit un fichier ou un dossier, vous pouvez appliquer la m&ecirc;me op&eacute;ration <code class="code" id="-plm0p7_283">supprimer()</code> ou <code class="code" id="-plm0p7_284">renommer()</code>.</p></li><li class="list__item" id="-plm0p7_278"><p id="-plm0p7_285"><span class="control" id="-plm0p7_286">Structure :</span> N&eacute;cessite une interface commune (<code class="code" id="-plm0p7_287">Component</code>) impl&eacute;ment&eacute;e &agrave; la fois par les objets &quot;feuilles&quot; (<code class="code" id="-plm0p7_288">Leaf</code>) et les conteneurs (<code class="code" id="-plm0p7_289">Composite</code>).</p></li></ul></section></section><section class="chapter"><h2 id="auto-valuation" data-toc="auto-valuation">Auto-&eacute;valuation</h2><p id="-plm0p7_290">V&eacute;rifiez votre compr&eacute;hension des patterns de structure.</p><aside class="prompt" data-type="warning" data-title="" id="-plm0p7_291"><p>Les corrections de cette auto-&eacute;valuation se trouvent &agrave; la fin de l'ensemble du support de cours.</p></aside><p id="-plm0p7_292"><span class="control" id="-plm0p7_296">Questions &agrave; Choix Multiple (QCM)</span></p><ol class="list _decimal" id="-plm0p7_293" type="1"><li class="list__item" id="-plm0p7_297"><p id="-plm0p7_301">Vous devez int&eacute;grer une vieille API qui communique en SOAP (XML) dans votre application moderne qui utilise des objets REST/JSON. Quel pattern est le plus appropri&eacute; ?</p><ul class="list _bullet" id="-plm0p7_302"><li class="list__item" id="-plm0p7_303"><p id="-plm0p7_307">a) Decorator</p></li><li class="list__item" id="-plm0p7_304"><p id="-plm0p7_308">b) Facade</p></li><li class="list__item" id="-plm0p7_305"><p id="-plm0p7_309">c) Adapter</p></li><li class="list__item" id="-plm0p7_306"><p id="-plm0p7_310">d) Proxy</p></li></ul></li><li class="list__item" id="-plm0p7_298"><p id="-plm0p7_311">Vous voulez ajouter une fonctionnalit&eacute; de logging et de mise en cache &agrave; votre <code class="code" id="-plm0p7_313">BookService</code> sans modifier son code source. Quel pattern est id&eacute;al pour cela ?</p><ul class="list _bullet" id="-plm0p7_312"><li class="list__item" id="-plm0p7_314"><p id="-plm0p7_318">a) Adapter</p></li><li class="list__item" id="-plm0p7_315"><p id="-plm0p7_319">b) Decorator</p></li><li class="list__item" id="-plm0p7_316"><p id="-plm0p7_320">c) Facade</p></li><li class="list__item" id="-plm0p7_317"><p id="-plm0p7_321">d) Composite</p></li></ul></li><li class="list__item" id="-plm0p7_299"><p id="-plm0p7_322">Quel est l'objectif principal du pattern Facade ?</p><ul class="list _bullet" id="-plm0p7_323"><li class="list__item" id="-plm0p7_324"><p id="-plm0p7_328">a) Ajouter des fonctionnalit&eacute;s &agrave; un objet existant.</p></li><li class="list__item" id="-plm0p7_325"><p id="-plm0p7_329">b) Rendre compatibles deux interfaces diff&eacute;rentes.</p></li><li class="list__item" id="-plm0p7_326"><p id="-plm0p7_330">c) Fournir une interface simplifi&eacute;e pour un syst&egrave;me complexe.</p></li><li class="list__item" id="-plm0p7_327"><p id="-plm0p7_331">d) Traiter un groupe d'objets de la m&ecirc;me mani&egrave;re qu'un seul objet.</p></li></ul></li><li class="list__item" id="-plm0p7_300"><p id="-plm0p7_332">La principale diff&eacute;rence entre l'Adapter et le Decorator est que :</p><ul class="list _bullet" id="-plm0p7_333"><li class="list__item" id="-plm0p7_334"><p id="-plm0p7_338">a) L'Adapter change l'interface d'un objet, tandis que le Decorator ne la change pas.</p></li><li class="list__item" id="-plm0p7_335"><p id="-plm0p7_339">b) Le Decorator change l'interface d'un objet, tandis que l'Adapter ne la change pas.</p></li><li class="list__item" id="-plm0p7_336"><p id="-plm0p7_340">c) L'Adapter ne peut &ecirc;tre utilis&eacute; qu'avec de vieilles classes.</p></li><li class="list__item" id="-plm0p7_337"><p id="-plm0p7_341">d) Le Decorator est plus complexe &agrave; impl&eacute;menter.</p></li></ul></li></ol><p id="-plm0p7_294"><span class="control" id="-plm0p7_342">Questions Ouvertes</span></p><ol class="list _decimal" id="-plm0p7_295" type="1" start="5"><li class="list__item" id="-plm0p7_343"><p id="-plm0p7_345">Expliquez comment le pattern Decorator applique le Principe Ouvert/Ferm&eacute;.</p></li><li class="list__item" id="-plm0p7_344"><p id="-plm0p7_346">Donnez un exemple concret o&ugrave; vous pourriez h&eacute;siter entre utiliser une Facade et simplement refactoriser le sous-syst&egrave;me lui-m&ecirc;me. Quels facteurs influenceraient votre d&eacute;cision ?</p></li></ol></section><section class="chapter"><h2 id="conclusion" data-toc="conclusion">Conclusion</h2><p id="-plm0p7_347">Excellent travail ! Vous avez maintenant les outils pour structurer vos applications de mani&egrave;re logique et robuste.</p><p id="-plm0p7_348">Vous avez appris &agrave; :</p><ul class="list _bullet" id="-plm0p7_349"><li class="list__item" id="-plm0p7_352"><p id="-plm0p7_355">Faire le pont entre des mondes incompatibles avec l' <span class="control" id="-plm0p7_356">Adapter</span>.</p></li><li class="list__item" id="-plm0p7_353"><p id="-plm0p7_357">Enrichir vos objets &agrave; la carte et &agrave; l'infini avec le <span class="control" id="-plm0p7_358">Decorator</span>.</p></li><li class="list__item" id="-plm0p7_354"><p id="-plm0p7_359">Masquer la complexit&eacute; et simplifier la vie de vos clients avec la <span class="control" id="-plm0p7_360">Facade</span>.</p></li></ul><p id="-plm0p7_350">Ces patterns de structure sont essentiels pour ma&icirc;triser le couplage dans vos applications. Ils vous permettent de construire des syst&egrave;mes o&ugrave; les composants sont bien organis&eacute;s, faciles &agrave; remplacer et &agrave; &eacute;tendre.</p><p id="-plm0p7_351">Nous savons maintenant cr&eacute;er des objets et les assembler. La derni&egrave;re pi&egrave;ce du puzzle est de d&eacute;finir comment ils interagissent et communiquent entre eux. C'est l'objet de notre prochain et dernier grand chapitre : les <span class="control" id="-plm0p7_361">Patterns Comportementaux</span>.</p></section><div class="last-modified">25 juillet 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="002-00-creation-patterns.html" class="navigation-links__prev">Les Patterns de Cr&eacute;ation : L'Art de Fabriquer des Objets</a><a href="004-00-behaviour-patterns.html" class="navigation-links__next">Les Patterns Comportementaux : L'Art de la Communication entre Objets</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>